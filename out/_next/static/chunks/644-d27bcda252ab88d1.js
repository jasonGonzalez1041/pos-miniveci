(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[644],{7401:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var s=r(2115);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),o=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var u={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:c="",children:h,iconNode:d,...f}=e;return(0,s.createElement)("svg",{ref:t,...u,width:i,height:i,stroke:r,strokeWidth:o?24*Number(n)/Number(i):n,className:a("lucide",c),...!h&&!l(f)&&{"aria-hidden":"true"},...f},[...d.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(h)?h:[h]])}),h=(e,t)=>{let r=(0,s.forwardRef)((r,n)=>{let{className:l,...u}=r;return(0,s.createElement)(c,{ref:n,iconNode:t,className:a("lucide-".concat(i(o(e))),"lucide-".concat(e),l),...u})});return r.displayName=o(e),r}},1773:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(7401).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},1836:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(7401).A)("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},5996:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(7401).A)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]])},5714:e=>{!function(){var t={675:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],s=t[1];return(r+s)*3/4-s},t.toByteArray=function(e){var t,r,n=l(e),o=n[0],a=n[1],u=new i((o+a)*3/4-a),c=0,h=a>0?o-4:o;for(r=0;r<h;r+=4)t=s[e.charCodeAt(r)]<<18|s[e.charCodeAt(r+1)]<<12|s[e.charCodeAt(r+2)]<<6|s[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===a&&(t=s[e.charCodeAt(r)]<<2|s[e.charCodeAt(r+1)]>>4,u[c++]=255&t),1===a&&(t=s[e.charCodeAt(r)]<<10|s[e.charCodeAt(r+1)]<<4|s[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,s=e.length,i=s%3,n=[],o=0,a=s-i;o<a;o+=16383)n.push(function(e,t,s){for(var i,n=[],o=t;o<s;o+=3)n.push(r[(i=(e[o]<<16&0xff0000)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return n.join("")}(e,o,o+16383>a?a:o+16383));return 1===i?n.push(r[(t=e[s-1])>>2]+r[t<<4&63]+"=="):2===i&&n.push(r[(t=(e[s-2]<<8)+e[s-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),n.join("")};for(var r=[],s=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=n.length;o<a;++o)r[o]=n[o],s[n.charCodeAt(o)]=o;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var s=r===t?0:4-r%4;return[r,s]}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},72:function(e,t,r){"use strict";var s=r(675),i=r(783),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function o(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!a.isEncoding(t))throw TypeError("Unknown encoding: "+t);var r=0|f(e,t),s=o(r),i=s.write(e,t);return i!==r&&(s=s.slice(0,i)),s}(e,t);if(ArrayBuffer.isView(e))return h(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(T(e,ArrayBuffer)||e&&T(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(T(e,SharedArrayBuffer)||e&&T(e.buffer,SharedArrayBuffer)))return function(e,t,r){var s;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(s=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),s}(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var s=e.valueOf&&e.valueOf();if(null!=s&&s!==e)return a.from(s,t,r);var i=function(e){if(a.isBuffer(e)){var t,r=0|d(e.length),s=o(r);return 0===s.length||e.copy(s,0,0,r),s}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?o(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),o(e<0?0:0|d(e))}function h(e){for(var t=e.length<0?0:0|d(e.length),r=o(t),s=0;s<t;s+=1)r[s]=255&e[s];return r}function d(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function f(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||T(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,s=arguments.length>2&&!0===arguments[2];if(!s&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return C(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return I(e).length;default:if(i)return s?-1:C(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,r){var i,n,o=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var s=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>s)&&(r=s);for(var i="",n=t;n<r;++n)i+=R[e[n]];return i}(this,t,r);case"utf8":case"utf-8":return b(this,t,r);case"ascii":return function(e,t,r){var s="";r=Math.min(e.length,r);for(var i=t;i<r;++i)s+=String.fromCharCode(127&e[i]);return s}(this,t,r);case"latin1":case"binary":return function(e,t,r){var s="";r=Math.min(e.length,r);for(var i=t;i<r;++i)s+=String.fromCharCode(e[i]);return s}(this,t,r);case"base64":return i=t,n=r,0===i&&n===this.length?s.fromByteArray(this):s.fromByteArray(this.slice(i,n));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var s=e.slice(t,r),i="",n=0;n<s.length;n+=2)i+=String.fromCharCode(s[n]+256*s[n+1]);return i}(this,t,r);default:if(o)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function m(e,t,r){var s=e[t];e[t]=e[r],e[r]=s}function y(e,t,r,s,i){var n;if(0===e.length)return -1;if("string"==typeof r?(s=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(n=r=+r)!=n&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=a.from(t,s)),a.isBuffer(t))return 0===t.length?-1:g(e,t,r,s,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,s,i);throw TypeError("val must be string, number or Buffer")}function g(e,t,r,s,i){var n,o=1,a=e.length,l=t.length;if(void 0!==s&&("ucs2"===(s=String(s).toLowerCase())||"ucs-2"===s||"utf16le"===s||"utf-16le"===s)){if(e.length<2||t.length<2)return -1;o=2,a/=2,l/=2,r/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(n=r;n<a;n++)if(u(e,n)===u(t,-1===c?0:n-c)){if(-1===c&&(c=n),n-c+1===l)return c*o}else -1!==c&&(n-=n-c),c=-1}else for(r+l>a&&(r=a-l),n=r;n>=0;n--){for(var h=!0,d=0;d<l;d++)if(u(e,n+d)!==u(t,d)){h=!1;break}if(h)return n}return -1}function b(e,t,r){r=Math.min(e.length,r);for(var s=[],i=t;i<r;){var n,o,a,l,u=e[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=r)switch(h){case 1:u<128&&(c=u);break;case 2:(192&(n=e[i+1]))==128&&(l=(31&u)<<6|63&n)>127&&(c=l);break;case 3:n=e[i+1],o=e[i+2],(192&n)==128&&(192&o)==128&&(l=(15&u)<<12|(63&n)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:n=e[i+1],o=e[i+2],a=e[i+3],(192&n)==128&&(192&o)==128&&(192&a)==128&&(l=(15&u)<<18|(63&n)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,s.push(c>>>10&1023|55296),c=56320|1023&c),s.push(c),i+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",s=0;s<t;)r+=String.fromCharCode.apply(String,e.slice(s,s+=4096));return r}(s)}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function v(e,t,r,s,i,n){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<n)throw RangeError('"value" argument is out of bounds');if(r+s>e.length)throw RangeError("Index out of range")}function S(e,t,r,s,i,n){if(r+s>e.length||r<0)throw RangeError("Index out of range")}function x(e,t,r,s,n){return t=+t,r>>>=0,n||S(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,s,23,4),r+4}function q(e,t,r,s,n){return t=+t,r>>>=0,n||S(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,s,52,8),r+8}t.Buffer=a,t.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return(u(e),e<=0)?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)},a.allocUnsafe=function(e){return c(e)},a.allocUnsafeSlow=function(e){return c(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(T(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),T(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,s=t.length,i=0,n=Math.min(r,s);i<n;++i)if(e[i]!==t[i]){r=e[i],s=t[i];break}return r<s?-1:s<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,s=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var n=e[r];if(T(n,Uint8Array)&&(n=a.from(n)),!a.isBuffer(n))throw TypeError('"list" argument must be an Array of Buffers');n.copy(s,i),i+=n.length}return s},a.byteLength=f,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?b(this,0,e):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(e,t,r,s,i){if(T(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===s&&(s=0),void 0===i&&(i=this.length),t<0||r>e.length||s<0||i>this.length)throw RangeError("out of range index");if(s>=i&&t>=r)return 0;if(s>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,s>>>=0,i>>>=0,this===e)return 0;for(var n=i-s,o=r-t,l=Math.min(n,o),u=this.slice(s,i),c=e.slice(t,r),h=0;h<l;++h)if(u[h]!==c[h]){n=u[h],o=c[h];break}return n<o?-1:o<n?1:0},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},a.prototype.write=function(e,t,r,s){if(void 0===t)s="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)s=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===s&&(s="utf8")):(s=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,n,o,a,l,u,c,h,d,f,p,m,y=this.length-t;if((void 0===r||r>y)&&(r=y),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");s||(s="utf8");for(var g=!1;;)switch(s){case"hex":return function(e,t,r,s){r=Number(r)||0;var i=e.length-r;s?(s=Number(s))>i&&(s=i):s=i;var n=t.length;s>n/2&&(s=n/2);for(var o=0;o<s;++o){var a=parseInt(t.substr(2*o,2),16);if(a!=a)break;e[r+o]=a}return o}(this,e,t,r);case"utf8":case"utf-8":return l=t,u=r,A(C(e,this.length-l),this,l,u);case"ascii":return c=t,h=r,A(k(e),this,c,h);case"latin1":case"binary":return i=this,n=e,o=t,a=r,A(k(n),i,o,a);case"base64":return d=t,f=r,A(I(e),this,d,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p=t,m=r,A(function(e,t){for(var r,s,i=[],n=0;n<e.length&&!((t-=2)<0);++n)s=(r=e.charCodeAt(n))>>8,i.push(r%256),i.push(s);return i}(e,this.length-p),this,p,m);default:if(g)throw TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),g=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var s=this.subarray(e,t);return Object.setPrototypeOf(s,a.prototype),s},a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var s=this[e],i=1,n=0;++n<t&&(i*=256);)s+=this[e+n]*i;return s},a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var s=this[e+--t],i=1;t>0&&(i*=256);)s+=this[e+--t]*i;return s},a.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var s=this[e],i=1,n=0;++n<t&&(i*=256);)s+=this[e+n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var s=t,i=1,n=this[e+--s];s>0&&(i*=256);)n+=this[e+--s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readInt8=function(e,t){return(e>>>=0,t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,r,s){if(e=+e,t>>>=0,r>>>=0,!s){var i=Math.pow(2,8*r)-1;v(this,e,t,r,i,0)}var n=1,o=0;for(this[t]=255&e;++o<r&&(n*=256);)this[t+o]=e/n&255;return t+r},a.prototype.writeUIntBE=function(e,t,r,s){if(e=+e,t>>>=0,r>>>=0,!s){var i=Math.pow(2,8*r)-1;v(this,e,t,r,i,0)}var n=r-1,o=1;for(this[t+n]=255&e;--n>=0&&(o*=256);)this[t+n]=e/o&255;return t+r},a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,r,s){if(e=+e,t>>>=0,!s){var i=Math.pow(2,8*r-1);v(this,e,t,r,i-1,-i)}var n=0,o=1,a=0;for(this[t]=255&e;++n<r&&(o*=256);)e<0&&0===a&&0!==this[t+n-1]&&(a=1),this[t+n]=(e/o>>0)-a&255;return t+r},a.prototype.writeIntBE=function(e,t,r,s){if(e=+e,t>>>=0,!s){var i=Math.pow(2,8*r-1);v(this,e,t,r,i-1,-i)}var n=r-1,o=1,a=0;for(this[t+n]=255&e;--n>=0&&(o*=256);)e<0&&0===a&&0!==this[t+n+1]&&(a=1),this[t+n]=(e/o>>0)-a&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,r){return x(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return x(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return q(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return q(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,s){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),s||0===s||(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<r&&(s=r),s===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(s<0)throw RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-r&&(s=e.length-t+r);var i=s-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,s);else if(this===e&&r<t&&t<s)for(var n=i-1;n>=0;--n)e[n+t]=this[n+r];else Uint8Array.prototype.set.call(e,this.subarray(r,s),t);return i},a.prototype.fill=function(e,t,r,s){if("string"==typeof e){if("string"==typeof t?(s=t,t=0,r=this.length):"string"==typeof r&&(s=r,r=this.length),void 0!==s&&"string"!=typeof s)throw TypeError("encoding must be a string");if("string"==typeof s&&!a.isEncoding(s))throw TypeError("Unknown encoding: "+s);if(1===e.length){var i,n=e.charCodeAt(0);("utf8"===s&&n<128||"latin1"===s)&&(e=n)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=a.isBuffer(e)?e:a.from(e,s),l=o.length;if(0===l)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%l]}return this};var _=/[^+/0-9A-Za-z-_]/g;function C(e,t){t=t||1/0;for(var r,s=e.length,i=null,n=[],o=0;o<s;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319||o+1===s){(t-=3)>-1&&n.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&n.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&n.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;n.push(r)}else if(r<2048){if((t-=2)<0)break;n.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;n.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;n.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return n}function k(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function I(e){return s.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(_,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function A(e,t,r,s){for(var i=0;i<s&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function T(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var R=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var s=16*r,i=0;i<16;++i)t[s+i]=e[r]+e[i];return t}()},783:function(e,t){t.read=function(e,t,r,s,i){var n,o,a=8*i-s-1,l=(1<<a)-1,u=l>>1,c=-7,h=r?i-1:0,d=r?-1:1,f=e[t+h];for(h+=d,n=f&(1<<-c)-1,f>>=-c,c+=a;c>0;n=256*n+e[t+h],h+=d,c-=8);for(o=n&(1<<-c)-1,n>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=d,c-=8);if(0===n)n=1-u;else{if(n===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,s),n-=u}return(f?-1:1)*o*Math.pow(2,n-s)},t.write=function(e,t,r,s,i,n){var o,a,l,u=8*n-i-1,c=(1<<u)-1,h=c>>1,d=23===i?5960464477539062e-23:0,f=s?0:n-1,p=s?1:-1,m=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(a=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?t+=d/l:t+=d*Math.pow(2,1-h),t*l>=2&&(o++,l/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(t*l-1)*Math.pow(2,i),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[r+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;e[r+f]=255&o,f+=p,o/=256,u-=8);e[r+f-p]|=128*m}}},r={};function s(e){var i=r[e];if(void 0!==i)return i.exports;var n=r[e]={exports:{}},o=!0;try{t[e](n,n.exports,s),o=!1}finally{o&&delete r[e]}return n.exports}s.ab="//";var i=s(72);e.exports=i}()},2018:e=>{function t(e,t){var r=!1,s=this;return Promise.all(e.map(function(){var e=arguments;return s(function(){if(!r)return t.apply(void 0,e).catch(function(e){throw r=!0,e})})}))}function r(e){return e.queue=0,e.map=t,e}e.exports=function(e){return e?r(function(e){var t=0,r=[];function s(){var s;--t<e&&(s=r.shift(),n.queue=r.length,s&&i(s.fn).then(s.resolve).catch(s.reject))}function i(e){t++;try{return Promise.resolve(e()).then(function(e){return s(),e},function(e){throw s(),e})}catch(e){return s(),Promise.reject(e)}}var n=function(s){return t>=e?new Promise(function(e,t){r.push({fn:s,resolve:e,reject:t}),n.queue=r.length}):i(s)};return n}(e)):r(function(e){return e()})}},4211:(e,t,r)=>{"use strict";let s,i;r.d(t,{UU:()=>rR});class n extends Error{code;rawCode;constructor(e,t,r,s){void 0!==t&&(e=`${t}: ${e}`),super(e,{cause:s}),this.code=t,this.rawCode=r,this.name="LibsqlError"}}let o=RegExp("^(?<scheme>[A-Za-z][A-Za-z.+-]*):(//(?<authority>[^/?#]*))?(?<path>[^?#]*)(\\?(?<query>[^#]*))?(#(?<fragment>.*))?$","su"),a=RegExp("^((?<username>[^:]*)(:(?<password>.*))?@)?((?<host>[^:\\[\\]]*)|(\\[(?<host_br>[^\\[\\]]*)\\]))(:(?<port>[0-9]*))?$","su");function l(e){try{return decodeURIComponent(e)}catch(e){if(e instanceof URIError)throw new n(`URL component has invalid percent encoding: ${e}`,"URL_INVALID",void 0,e);throw e}}function u(e,t,r){var s,i;if(void 0===t)throw new n(`URL with scheme ${JSON.stringify(e+":")} requires authority (the "//" part)`,"URL_INVALID");let o=`${e}:`,a=(s=t.host).includes(":")?`[${encodeURI(s)}]`:encodeURI(s),l=void 0!==(i=t.port)?`:${i}`:"",u=function(e){if(void 0===e)return"";let t=encodeURIComponent(e.username),r=void 0!==e.password?`:${encodeURIComponent(e.password)}`:"";return`${t}${r}@`}(t.userinfo),c=`//${u}${a}${l}`,h=r.split("/").map(encodeURIComponent).join("/");return""===h||h.startsWith("/")||(h="/"+h),new URL(`${o}${c}${h}`)}var c=r(5714).Buffer;let h="function"==typeof c,d="function"==typeof TextDecoder?new TextDecoder:void 0,f="function"==typeof TextEncoder?new TextEncoder:void 0,p=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),m=(e=>{let t={};return e.forEach((e,r)=>t[e]=r),t})(p),y=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,g=String.fromCharCode.bind(String),b="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),w=e=>e.replace(/=/g,"").replace(/[+\/]/g,e=>"+"==e?"-":"_"),v=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),S="function"==typeof btoa?e=>btoa(e):h?e=>c.from(e,"binary").toString("base64"):e=>{let t,r,s,i,n="",o=e.length%3;for(let o=0;o<e.length;){if((r=e.charCodeAt(o++))>255||(s=e.charCodeAt(o++))>255||(i=e.charCodeAt(o++))>255)throw TypeError("invalid character found");n+=p[(t=r<<16|s<<8|i)>>18&63]+p[t>>12&63]+p[t>>6&63]+p[63&t]}return o?n.slice(0,o-3)+"===".substring(o):n},x=h?e=>c.from(e).toString("base64"):e=>{let t=[];for(let r=0,s=e.length;r<s;r+=4096)t.push(g.apply(null,e.subarray(r,r+4096)));return S(t.join(""))},q=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?g(192|t>>>6)+g(128|63&t):g(224|t>>>12&15)+g(128|t>>>6&63)+g(128|63&t)}var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return g(240|t>>>18&7)+g(128|t>>>12&63)+g(128|t>>>6&63)+g(128|63&t)},_=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,C=e=>e.replace(_,q),k=h?e=>c.from(e,"utf8").toString("base64"):f?e=>x(f.encode(e)):e=>S(C(e)),I=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,A=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return g((t>>>10)+55296)+g((1023&t)+56320);case 3:return g((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return g((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},T=e=>e.replace(I,A),R="function"==typeof atob?e=>atob(v(e)):h?e=>c.from(e,"base64").toString("binary"):e=>{let t,r,s;if(e=e.replace(/\s+/g,""),!y.test(e))throw TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let i=[];for(let n=0;n<e.length;)t=m[e.charAt(n++)]<<18|m[e.charAt(n++)]<<12|(r=m[e.charAt(n++)])<<6|(s=m[e.charAt(n++)]),64===r?i.push(g(t>>16&255)):64===s?i.push(g(t>>16&255,t>>8&255)):i.push(g(t>>16&255,t>>8&255,255&t));return i.join("")},L=h?e=>b(c.from(e,"base64")):e=>b(R(e).split("").map(e=>e.charCodeAt(0))),N=h?e=>c.from(e,"base64").toString("utf8"):d?e=>d.decode(L(e)):e=>T(R(e)),E=e=>v(e.replace(/[-_]/g,e=>"-"==e?"+":"/")),$={fromUint8Array:(e,t=!1)=>t?w(x(e)):x(e),toUint8Array:e=>L(E(e))},O="https://github.com/libsql/libsql-client-ts#supported-urls";function j(e){if("write"===e)return"BEGIN IMMEDIATE";if("read"===e)return"BEGIN TRANSACTION READONLY";if("deferred"===e)return"BEGIN DEFERRED";throw RangeError('Unknown transaction mode, supported values are "write", "read" and "deferred"')}class Q{columns;columnTypes;rows;rowsAffected;lastInsertRowid;constructor(e,t,r,s,i){this.columns=e,this.columnTypes=t,this.rows=r,this.rowsAffected=s,this.lastInsertRowid=i}toJSON(){return{columns:this.columns,columnTypes:this.columnTypes,rows:this.rows.map(B),rowsAffected:this.rowsAffected,lastInsertRowid:void 0!==this.lastInsertRowid?""+this.lastInsertRowid:null}}}function B(e){return Array.prototype.map.call(e,P)}function P(e){return"bigint"==typeof e?""+e:e instanceof ArrayBuffer?$.fromUint8Array(new Uint8Array(e)):e}let U=":memory:";"undefined"!=typeof WebSocket?s=WebSocket:"undefined"!=typeof global?s=global.WebSocket:"undefined"!=typeof window?s=window.WebSocket:"undefined"!=typeof self&&(s=self.WebSocket);class M{constructor(){this.intMode="number"}intMode}class D extends Error{constructor(e){super(e),this.name="ClientError"}}class z extends D{constructor(e){super(e),this.name="ProtoError"}}class F extends D{code;proto;constructor(e,t){super(e),this.name="ResponseError",this.code=t.code,this.proto=t,this.stack=void 0}}class V extends D{constructor(e,t){void 0!==t?(super(`${e}: ${t}`),this.cause=t):super(e),this.name="ClosedError"}}class X extends D{constructor(e){super(e),this.name="WebSocketUnsupportedError"}}class J extends D{constructor(e){super(e),this.name="WebSocketError"}}class K extends D{status;constructor(e,t){super(e),this.status=t,this.name="HttpServerError"}}class W extends D{constructor(e){super(e),this.name="ProtocolVersionError"}}class G extends D{constructor(e){super(e),this.name="InternalError"}}class H extends D{constructor(e){super(e),this.name="MisuseError"}}function Y(e){if("string"==typeof e)return e;throw en(e,"string")}function Z(e){if(null!=e){if("string"==typeof e)return e;throw en(e,"string or null")}}function ee(e){if("number"==typeof e)return e;throw en(e,"number")}function et(e){if("boolean"==typeof e)return e;throw en(e,"boolean")}function er(e){if(Array.isArray(e))return e;throw en(e,"array")}function es(e){if(null!==e&&"object"==typeof e&&!Array.isArray(e))return e;throw en(e,"object")}function ei(e,t){return er(e).map(e=>t(es(e)))}function en(e,t){if(void 0===e)return new z(`Expected ${t}, but the property was missing`);let r=typeof e;return null===e?r="null":Array.isArray(e)&&(r="array"),new z(`Expected ${t}, received ${r}`)}class eo{#e;#t;constructor(e){this.#e=e,this.#t=!1}begin(){this.#e.push("{"),this.#t=!0}end(){this.#e.push("}"),this.#t=!1}#r(e){this.#t?(this.#e.push('"'),this.#t=!1):this.#e.push(',"'),this.#e.push(e),this.#e.push('":')}string(e,t){this.#r(e),this.#e.push(JSON.stringify(t))}stringRaw(e,t){this.#r(e),this.#e.push('"'),this.#e.push(t),this.#e.push('"')}number(e,t){this.#r(e),this.#e.push(""+t)}boolean(e,t){this.#r(e),this.#e.push(t?"true":"false")}object(e,t,r){this.#r(e),this.begin(),r(this,t),this.end()}arrayObjects(e,t,r){this.#r(e),this.#e.push("[");for(let e=0;e<t.length;++e)0!==e&&this.#e.push(","),this.begin(),r(this,t[e]),this.end();this.#e.push("]")}}function ea(e,t){let r=[],s=new eo(r);return s.begin(),t(s,e),s.end(),r.join("")}class el{#s;#i;#n;constructor(e){this.#s=e,this.#i=new DataView(e.buffer,e.byteOffset,e.byteLength),this.#n=0}varint(){let e=0;for(let t=0;;t+=7){let r=this.#s[this.#n++];if(e|=(127&r)<<t,!(128&r))break}return e}varintBig(){let e=0n;for(let t=0n;;t+=7n){let r=this.#s[this.#n++];if(e|=BigInt(127&r)<<t,!(128&r))break}return e}bytes(e){let t=new Uint8Array(this.#s.buffer,this.#s.byteOffset+this.#n,e);return this.#n+=e,t}double(){let e=this.#i.getFloat64(this.#n,!0);return this.#n+=8,e}skipVarint(){for(;128&this.#s[this.#n++];);}skip(e){this.#n+=e}eof(){return this.#n>=this.#s.byteLength}}class eu{#o;#a;constructor(e){this.#o=e,this.#a=-1}setup(e){this.#a=e}#l(e){if(this.#a!==e)throw new z(`Expected wire type ${e}, got ${this.#a}`);this.#a=-1}bytes(){this.#l(2);let e=this.#o.varint();return this.#o.bytes(e)}string(){return new TextDecoder().decode(this.bytes())}message(e){return ec(this.bytes(),e)}int32(){return this.#l(0),this.#o.varint()}uint32(){return this.int32()}bool(){return 0!==this.int32()}uint64(){return this.#l(0),this.#o.varintBig()}sint64(){let e=this.uint64();return e>>1n^-(1n&e)}double(){return this.#l(1),this.#o.double()}maybeSkip(){if(!(this.#a<0)){if(0===this.#a)this.#o.skipVarint();else if(1===this.#a)this.#o.skip(8);else if(2===this.#a){let e=this.#o.varint();this.#o.skip(e)}else if(5===this.#a)this.#o.skip(4);else throw new z(`Unexpected wire type ${this.#a}`);this.#a=-1}}}function ec(e,t){let r=new el(e),s=new eu(r),i=t.default();for(;!r.eof();){let e=r.varint(),n=e>>3,o=7&e;s.setup(o);let a=t[n];if(void 0!==a){let e=a(s,i);void 0!==e&&(i=e)}s.maybeSkip()}return i}class eh{#u;#s;#i;#n;constructor(){this.#u=new ArrayBuffer(256),this.#s=new Uint8Array(this.#u),this.#i=new DataView(this.#u),this.#n=0}#c(e){if(this.#n+e<=this.#u.byteLength)return;let t=this.#u.byteLength;for(;t<this.#n+e;)t*=2;let r=new ArrayBuffer(t),s=new Uint8Array(r),i=new DataView(r);s.set(new Uint8Array(this.#u,0,this.#n)),this.#u=r,this.#s=s,this.#i=i}#h(e){this.#c(5),e|=0;do{let t=127&e;e>>>=7,t|=e?128:0,this.#s[this.#n++]=t}while(e)}#d(e){this.#c(10),e&=0xffffffffffffffffn;do{let t=Number(127n&e);e>>=7n,t|=e?128:0,this.#s[this.#n++]=t}while(e)}#f(e,t){this.#h(e<<3|t)}bytes(e,t){this.#f(e,2),this.#h(t.byteLength),this.#c(t.byteLength),this.#s.set(t,this.#n),this.#n+=t.byteLength}string(e,t){this.bytes(e,new TextEncoder().encode(t))}message(e,t,r){let s=new eh;r(s,t),this.bytes(e,s.data())}int32(e,t){this.#f(e,0),this.#h(t)}uint32(e,t){this.int32(e,t)}bool(e,t){this.int32(e,t?1:0)}sint64(e,t){this.#f(e,0),this.#d(t<<1n^t>>63n)}double(e,t){this.#f(e,1),this.#c(8),this.#i.setFloat64(this.#n,t,!0),this.#n+=8}data(){return new Uint8Array(this.#u,0,this.#n)}}function ed(e,t){let r=new eh;return t(r,e),r.data()}class ef{#p;#m;constructor(){this.#p=new Set,this.#m=new Set}alloc(){for(let e of this.#m)return this.#m.delete(e),this.#p.add(e),this.#p.has(this.#p.size-1)||this.#m.add(this.#p.size-1),e;let e=this.#p.size;return this.#p.add(e),e}free(e){if(!this.#p.delete(e))throw new G("Freeing an id that is not allocated");this.#m.delete(this.#p.size),e<this.#p.size&&this.#m.add(e)}}function ep(e,t){throw new G(t)}function em(e){if(null===e)return null;if("string"==typeof e)return e;if("number"==typeof e){if(!Number.isFinite(e))throw RangeError("Only finite numbers (not Infinity or NaN) can be passed as arguments");return e}if("bigint"==typeof e){if(e<ey||e>eg)throw RangeError("This bigint value is too large to be represented as a 64-bit integer and passed as argument");return e}if("boolean"==typeof e)return e?1n:0n;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return e;else if(e instanceof Date)return+e.valueOf();else if("object"==typeof e)return""+e.toString();else throw TypeError("Unsupported type of value")}let ey=-0x8000000000000000n,eg=0x7fffffffffffffffn;function eb(e,t){if(null===e)return null;if("number"==typeof e||"string"==typeof e)return e;if("bigint"==typeof e){if("number"===t){let t=Number(e);if(!Number.isSafeInteger(t))throw RangeError("Received integer which is too large to be safely represented as a JavaScript number");return t}if("bigint"===t)return e;if("string"===t)return""+e;throw new H("Invalid value for IntMode")}if(e instanceof Uint8Array)return e.slice().buffer;if(void 0===e)throw new z("Received unrecognized type of Value");throw ep(e,"Impossible type of Value")}function ew(e){return{affectedRowCount:e.affectedRowCount,lastInsertRowid:e.lastInsertRowid,columnNames:e.cols.map(e=>e.name),columnDecltypes:e.cols.map(e=>e.decltype)}}function ev(e,t){let r=ew(e),s=e.rows.map(e=>eq(r.columnNames,e,t));return{...r,rows:s}}function eS(e,t){let r;let s=ew(e);return e.rows.length>0&&(r=eq(s.columnNames,e.rows[0],t)),{...s,row:r}}function ex(e,t){let r;let s=ew(e);return e.rows.length>0&&s.columnNames.length>0&&(r=eb(e.rows[0][0],t)),{...s,value:r}}function eq(e,t,r){let s={};Object.defineProperty(s,"length",{value:t.length});for(let i=0;i<t.length;++i){let n=eb(t[i],r);Object.defineProperty(s,i,{value:n});let o=e[i];void 0===o||Object.hasOwn(s,o)||Object.defineProperty(s,o,{value:n,enumerable:!0,configurable:!0,writable:!0})}return s}function e_(e){return new F(e.message,e)}class eC{#y;#g;#b;constructor(e,t){this.#y=e,this.#g=t,this.#b=void 0}_getSqlId(e){if(this.#y!==e)throw new H("Attempted to use SQL text opened with other object");if(void 0!==this.#b)throw new V("SQL text is closed",this.#b);return this.#g}close(){this._setClosed(new D("SQL text was manually closed"))}_setClosed(e){void 0===this.#b&&(this.#b=e,this.#y._closeSql(this.#g))}get closed(){return void 0!==this.#b}}function ek(e,t){return t instanceof eC?{sqlId:t._getSqlId(e)}:{sql:""+t}}class eI{#w;#v;constructor(){this.#w=[],this.#v=[]}get length(){return this.#w.length+this.#v.length}push(e){this.#w.push(e)}shift(){return 0===this.#v.length&&this.#w.length>0&&(this.#v=this.#w.reverse(),this.#w=[]),this.#v.pop()}first(){return 0!==this.#v.length?this.#v[this.#v.length-1]:this.#w[0]}}class eA{sql;_args;_namedArgs;constructor(e){this.sql=e,this._args=[],this._namedArgs=new Map}bindIndexes(e){for(let t of(this._args.length=0,e))this._args.push(em(t));return this}bindIndex(e,t){if(e!==(0|e)||e<=0)throw RangeError("Index of a positional argument must be positive integer");for(;this._args.length<e;)this._args.push(null);return this._args[e-1]=em(t),this}bindName(e,t){return this._namedArgs.set(e,em(t)),this}unbindAll(){return this._args.length=0,this._namedArgs.clear(),this}}function eT(e,t,r){let s;let i=[],n=[];if(t instanceof eA)for(let[e,r]of(s=t.sql,i=t._args,t._namedArgs.entries()))n.push({name:e,value:r});else Array.isArray(t)?(s=t[0],Array.isArray(t[1])?i=t[1].map(e=>em(e)):n=Object.entries(t[1]).map(([e,t])=>({name:e,value:em(t)}))):s=t;let{sql:o,sqlId:a}=ek(e,s);return{sql:o,sqlId:a,args:i,namedArgs:n,wantRows:r}}class eR{_stream;#S;_steps;#x;constructor(e,t){this._stream=e,this.#S=t,this._steps=[],this.#x=!1}step(){return new eN(this)}execute(){var e,t;if(this.#x)throw new H("This batch has already been executed");this.#x=!0;let r={steps:this._steps.map(e=>e.proto)};return this.#S?eL(this._stream,this._steps,r):(e=this._stream,t=this._steps,e._batch(r).then(e=>{for(let r=0;r<t.length;++r){let s=e.stepResults.get(r),i=e.stepErrors.get(r);t[r].callback(s,i)}}))}}async function eL(e,t,r){let s=await e._openCursor(r);try{let e,r=0,i=[];for(;;){let n=await s.next();if(void 0===n)break;if("step_begin"===n.type){if(n.step<r||n.step>=t.length)throw new z("Server produced StepBeginEntry for unexpected step");if(void 0!==e)throw new z("Server produced StepBeginEntry before terminating previous step");for(let e=r;e<n.step;++e)t[e].callback(void 0,void 0);r=n.step+1,e=n,i=[]}else if("step_end"===n.type){if(void 0===e)throw new z("Server produced StepEndEntry but no step is active");let r={cols:e.cols,rows:i,affectedRowCount:n.affectedRowCount,lastInsertRowid:n.lastInsertRowid};t[e.step].callback(r,void 0),e=void 0,i=[]}else if("step_error"===n.type){if(void 0===e){if(n.step>=t.length)throw new z("Server produced StepErrorEntry for unexpected step");for(let e=r;e<n.step;++e)t[e].callback(void 0,void 0)}else{if(n.step!==e.step)throw new z("Server produced StepErrorEntry for unexpected step");e=void 0,i=[]}t[n.step].callback(void 0,n.error),r=n.step+1}else if("row"===n.type){if(void 0===e)throw new z("Server produced RowEntry but no step is active");i.push(n.row)}else if("error"===n.type)throw e_(n.error);else if("none"===n.type)throw new z("Server produced unrecognized CursorEntry");else throw ep(n,"Impossible CursorEntry")}if(void 0!==e)throw new z("Server closed Cursor before terminating active step");for(let e=r;e<t.length;++e)t[e].callback(void 0,void 0)}finally{s.close()}}class eN{_batch;#q;_index;constructor(e){this._batch=e,this.#q=[],this._index=void 0}condition(e){return this.#q.push(e._proto),this}query(e){return this.#_(e,!0,ev)}queryRow(e){return this.#_(e,!0,eS)}queryValue(e){return this.#_(e,!0,ex)}run(e){return this.#_(e,!1,ew)}#_(e,t,r){if(void 0!==this._index)throw new H("This BatchStep has already been added to the batch");let s={stmt:eT(this._batch._stream._sqlOwner(),e,t),condition:0===this.#q.length?void 0:1===this.#q.length?this.#q[0]:{type:"and",conds:this.#q.slice()}};return new Promise((e,t)=>{this._index=this._batch._steps.length,this._batch._steps.push({proto:s,callback:(s,i)=>{void 0!==s&&void 0!==i?t(new z("Server returned both result and error")):void 0!==i?t(e_(i)):void 0!==s?e(r(s,this._batch._stream.intMode)):e(void 0)}})})}}class eE{_batch;_proto;constructor(e,t){this._batch=e,this._proto=t}static ok(e){return new eE(e._batch,{type:"ok",step:e$(e)})}static error(e){return new eE(e._batch,{type:"error",step:e$(e)})}static not(e){return new eE(e._batch,{type:"not",cond:e._proto})}static and(e,t){for(let r of t)eO(e,r);return new eE(e,{type:"and",conds:t.map(e=>e._proto)})}static or(e,t){for(let r of t)eO(e,r);return new eE(e,{type:"or",conds:t.map(e=>e._proto)})}static isAutocommit(e){return e._stream.client()._ensureVersion(3,"BatchCond.isAutocommit()"),new eE(e,{type:"is_autocommit"})}}function e$(e){if(void 0===e._index)throw new H("Cannot add a condition referencing a step that has not been added to the batch");return e._index}function eO(e,t){if(t._batch!==e)throw new H("Cannot mix BatchCond objects for different Batch objects")}function ej(e){return{paramNames:e.params.map(e=>e.name),columns:e.cols,isExplain:e.isExplain,isReadonly:e.isReadonly}}class eQ{constructor(e){this.intMode=e}query(e){return this.#C(e,!0,ev)}queryRow(e){return this.#C(e,!0,eS)}queryValue(e){return this.#C(e,!0,ex)}run(e){return this.#C(e,!1,ew)}#C(e,t,r){let s=eT(this._sqlOwner(),e,t);return this._execute(s).then(e=>r(e,this.intMode))}batch(e=!1){return new eR(this,e)}describe(e){let t=ek(this._sqlOwner(),e);return this._describe(t).then(ej)}sequence(e){let t=ek(this._sqlOwner(),e);return this._sequence(t)}intMode}class eB{}class eP extends eB{#k;#I;#A;#T;#R;#b;#L;constructor(e,t,r){super(),this.#k=e,this.#I=t,this.#A=r,this.#T=new eI,this.#R=new eI,this.#b=void 0,this.#L=!1}async next(){for(;;){if(void 0!==this.#b)throw new V("Cursor is closed",this.#b);for(;!this.#L&&this.#R.length<10;)this.#R.push(this.#N());let e=this.#T.shift();if(this.#L||void 0!==e)return e;await this.#R.shift().then(e=>{if(void 0!==e){for(let t of e.entries)this.#T.push(t);this.#L||=e.done}})}}#N(){return this.#I._sendCursorRequest(this,{type:"fetch_cursor",cursorId:this.#A,maxCount:1e3}).then(e=>e,e=>{this._setClosed(e)})}_setClosed(e){void 0===this.#b&&(this.#b=e,this.#I._sendCursorRequest(this,{type:"close_cursor",cursorId:this.#A}).catch(()=>void 0),this.#I._cursorClosed(this))}close(){this._setClosed(new D("Cursor was manually closed"))}get closed(){return void 0!==this.#b}}class eU extends eQ{#k;#E;#$;#O;#j;#b;static open(e){let t=e._streamIdAlloc.alloc(),r=new eU(e,t);return e._sendRequest({type:"open_stream",streamId:t},{responseCallback:()=>void 0,errorCallback:e=>r.#Q(e)}),r}constructor(e,t){super(e.intMode),this.#k=e,this.#E=t,this.#$=new eI,this.#O=void 0,this.#j=!1,this.#b=void 0}client(){return this.#k}_sqlOwner(){return this.#k}_execute(e){return this.#B({type:"execute",streamId:this.#E,stmt:e}).then(e=>e.result)}_batch(e){return this.#B({type:"batch",streamId:this.#E,batch:e}).then(e=>e.result)}_describe(e){return this.#k._ensureVersion(2,"describe()"),this.#B({type:"describe",streamId:this.#E,sql:e.sql,sqlId:e.sqlId}).then(e=>e.result)}_sequence(e){return this.#k._ensureVersion(2,"sequence()"),this.#B({type:"sequence",streamId:this.#E,sql:e.sql,sqlId:e.sqlId}).then(e=>{})}getAutocommit(){return this.#k._ensureVersion(3,"getAutocommit()"),this.#B({type:"get_autocommit",streamId:this.#E}).then(e=>e.isAutocommit)}#B(e){return new Promise((t,r)=>{this.#P({type:"request",request:e,responseCallback:t,errorCallback:r})})}_openCursor(e){return this.#k._ensureVersion(3,"cursor"),new Promise((t,r)=>{this.#P({type:"cursor",batch:e,cursorCallback:t,errorCallback:r})})}_sendCursorRequest(e,t){if(e!==this.#O)throw new G("Cursor not associated with the stream attempted to execute a request");return new Promise((e,r)=>{void 0!==this.#b?r(new V("Stream is closed",this.#b)):this.#k._sendRequest(t,{responseCallback:e,errorCallback:r})})}_cursorClosed(e){if(e!==this.#O)throw new G("Cursor was closed, but it was not associated with the stream");this.#O=void 0,this.#U()}#P(e){void 0!==this.#b?e.errorCallback(new V("Stream is closed",this.#b)):this.#j?e.errorCallback(new V("Stream is closing",void 0)):(this.#$.push(e),this.#U())}#U(){for(;;){let e=this.#$.first();if(void 0===e&&void 0===this.#O&&this.#j){this.#Q(new D("Stream was gracefully closed"));break}if(e?.type==="request"&&void 0===this.#O){let{request:t,responseCallback:r,errorCallback:s}=e;this.#$.shift(),this.#k._sendRequest(t,{responseCallback:r,errorCallback:s})}else if(e?.type==="cursor"&&void 0===this.#O){let{batch:t,cursorCallback:r}=e;this.#$.shift();let s=this.#k._cursorIdAlloc.alloc(),i=new eP(this.#k,this,s),n={type:"open_cursor",streamId:this.#E,cursorId:s,batch:t},o=()=>void 0,a=e=>i._setClosed(e);this.#k._sendRequest(n,{responseCallback:o,errorCallback:a}),this.#O=i,r(i)}else break}}#Q(e){if(void 0!==this.#b)return;for(this.#b=e,void 0!==this.#O&&this.#O._setClosed(e);;){let t=this.#$.shift();if(void 0!==t)t.errorCallback(e);else break}let t={type:"close_stream",streamId:this.#E};this.#k._sendRequest(t,{responseCallback:()=>this.#k._streamIdAlloc.free(this.#E),errorCallback:()=>void 0})}close(){this.#Q(new D("Stream was manually closed"))}closeGracefully(){this.#j=!0,this.#U()}get closed(){return void 0!==this.#b||this.#j}}function eM(e,t){void 0!==t.sql&&e.string("sql",t.sql),void 0!==t.sqlId&&e.number("sql_id",t.sqlId),e.arrayObjects("args",t.args,eX),e.arrayObjects("named_args",t.namedArgs,eD),e.boolean("want_rows",t.wantRows)}function eD(e,t){e.string("name",t.name),e.object("value",t.value,eX)}function ez(e,t){e.arrayObjects("steps",t.steps,eF)}function eF(e,t){void 0!==t.condition&&e.object("condition",t.condition,eV),e.object("stmt",t.stmt,eM)}function eV(e,t){if(e.stringRaw("type",t.type),"ok"===t.type||"error"===t.type)e.number("step",t.step);else if("not"===t.type)e.object("cond",t.cond,eV);else if("and"===t.type||"or"===t.type)e.arrayObjects("conds",t.conds,eV);else if("is_autocommit"===t.type);else throw ep(t,"Impossible type of BatchCond")}function eX(e,t){if(null===t)e.stringRaw("type","null");else if("bigint"==typeof t)e.stringRaw("type","integer"),e.stringRaw("value",""+t);else if("number"==typeof t)e.stringRaw("type","float"),e.number("value",t);else if("string"==typeof t)e.stringRaw("type","text"),e.string("value",t);else if(t instanceof Uint8Array)e.stringRaw("type","blob"),e.stringRaw("base64",$.fromUint8Array(t));else if(void 0===t);else throw ep(t,"Impossible type of Value")}function eJ(e,t){if(e.stringRaw("type",t.type),"hello"===t.type)void 0!==t.jwt&&e.string("jwt",t.jwt);else if("request"===t.type)e.number("request_id",t.requestId),e.object("request",t.request,eK);else throw ep(t,"Impossible type of ClientMsg")}function eK(e,t){if(e.stringRaw("type",t.type),"open_stream"===t.type)e.number("stream_id",t.streamId);else if("close_stream"===t.type)e.number("stream_id",t.streamId);else if("execute"===t.type)e.number("stream_id",t.streamId),e.object("stmt",t.stmt,eM);else if("batch"===t.type)e.number("stream_id",t.streamId),e.object("batch",t.batch,ez);else if("open_cursor"===t.type)e.number("stream_id",t.streamId),e.number("cursor_id",t.cursorId),e.object("batch",t.batch,ez);else if("close_cursor"===t.type)e.number("cursor_id",t.cursorId);else if("fetch_cursor"===t.type)e.number("cursor_id",t.cursorId),e.number("max_count",t.maxCount);else if("sequence"===t.type)e.number("stream_id",t.streamId),void 0!==t.sql&&e.string("sql",t.sql),void 0!==t.sqlId&&e.number("sql_id",t.sqlId);else if("describe"===t.type)e.number("stream_id",t.streamId),void 0!==t.sql&&e.string("sql",t.sql),void 0!==t.sqlId&&e.number("sql_id",t.sqlId);else if("store_sql"===t.type)e.number("sql_id",t.sqlId),e.string("sql",t.sql);else if("close_sql"===t.type)e.number("sql_id",t.sqlId);else if("get_autocommit"===t.type)e.number("stream_id",t.streamId);else throw ep(t,"Impossible type of Request")}function eW(e,t){for(let r of(void 0!==t.sql&&e.string(1,t.sql),void 0!==t.sqlId&&e.int32(2,t.sqlId),t.args))e.message(3,r,e1);for(let r of t.namedArgs)e.message(4,r,eG);e.bool(5,t.wantRows)}function eG(e,t){e.string(1,t.name),e.message(2,t.value,e1)}function eH(e,t){for(let r of t.steps)e.message(1,r,eY)}function eY(e,t){void 0!==t.condition&&e.message(1,t.condition,eZ),e.message(2,t.stmt,eW)}function eZ(e,t){if("ok"===t.type)e.uint32(1,t.step);else if("error"===t.type)e.uint32(2,t.step);else if("not"===t.type)e.message(3,t.cond,eZ);else if("and"===t.type)e.message(4,t.conds,e0);else if("or"===t.type)e.message(5,t.conds,e0);else if("is_autocommit"===t.type)e.message(6,void 0,e2);else throw ep(t,"Impossible type of BatchCond")}function e0(e,t){for(let r of t)e.message(1,r,eZ)}function e1(e,t){if(null===t)e.message(1,void 0,e2);else if("bigint"==typeof t)e.sint64(2,t);else if("number"==typeof t)e.double(3,t);else if("string"==typeof t)e.string(4,t);else if(t instanceof Uint8Array)e.bytes(5,t);else if(void 0===t);else throw ep(t,"Impossible type of Value")}function e2(e,t){}function e3(e,t){if("hello"===t.type)e.message(1,t,e5);else if("request"===t.type)e.message(2,t,e8);else throw ep(t,"Impossible type of ClientMsg")}function e5(e,t){void 0!==t.jwt&&e.string(1,t.jwt)}function e8(e,t){e.int32(1,t.requestId);let r=t.request;if("open_stream"===r.type)e.message(2,r,e6);else if("close_stream"===r.type)e.message(3,r,e4);else if("execute"===r.type)e.message(4,r,e7);else if("batch"===r.type)e.message(5,r,e9);else if("open_cursor"===r.type)e.message(6,r,te);else if("close_cursor"===r.type)e.message(7,r,tt);else if("fetch_cursor"===r.type)e.message(8,r,tr);else if("sequence"===r.type)e.message(9,r,ts);else if("describe"===r.type)e.message(10,r,ti);else if("store_sql"===r.type)e.message(11,r,tn);else if("close_sql"===r.type)e.message(12,r,to);else if("get_autocommit"===r.type)e.message(13,r,ta);else throw ep(r,"Impossible type of Request")}function e6(e,t){e.int32(1,t.streamId)}function e4(e,t){e.int32(1,t.streamId)}function e7(e,t){e.int32(1,t.streamId),e.message(2,t.stmt,eW)}function e9(e,t){e.int32(1,t.streamId),e.message(2,t.batch,eH)}function te(e,t){e.int32(1,t.streamId),e.int32(2,t.cursorId),e.message(3,t.batch,eH)}function tt(e,t){e.int32(1,t.cursorId)}function tr(e,t){e.int32(1,t.cursorId),e.uint32(2,t.maxCount)}function ts(e,t){e.int32(1,t.streamId),void 0!==t.sql&&e.string(2,t.sql),void 0!==t.sqlId&&e.int32(3,t.sqlId)}function ti(e,t){e.int32(1,t.streamId),void 0!==t.sql&&e.string(2,t.sql),void 0!==t.sqlId&&e.int32(3,t.sqlId)}function tn(e,t){e.int32(1,t.sqlId),e.string(2,t.sql)}function to(e,t){e.int32(1,t.sqlId)}function ta(e,t){e.int32(1,t.streamId)}function tl(e){return{message:Y(e.message),code:Z(e.code)}}function tu(e){let t=ei(e.cols,tc),r=er(e.rows).map(e=>ei(e,ty)),s=ee(e.affected_row_count),i=Z(e.last_insert_rowid);return{cols:t,rows:r,affectedRowCount:s,lastInsertRowid:void 0!==i?BigInt(i):void 0}}function tc(e){return{name:Z(e.name),decltype:Z(e.decltype)}}function th(e){let t=new Map;er(e.step_results).forEach((e,r)=>{null!==e&&t.set(r,tu(es(e)))});let r=new Map;return er(e.step_errors).forEach((e,t)=>{null!==e&&r.set(t,tl(es(e)))}),{stepResults:t,stepErrors:r}}function td(e){let t=Y(e.type);if("step_begin"===t)return{type:"step_begin",step:ee(e.step),cols:ei(e.cols,tc)};if("step_end"===t){let t=ee(e.affected_row_count),r=Z(e.last_insert_rowid);return{type:"step_end",affectedRowCount:t,lastInsertRowid:void 0!==r?BigInt(r):void 0}}if("step_error"===t)return{type:"step_error",step:ee(e.step),error:tl(es(e.error))};if("row"===t)return{type:"row",row:ei(e.row,ty)};if("error"===t)return{type:"error",error:tl(es(e.error))};throw new z("Unexpected type of CursorEntry")}function tf(e){let t=ei(e.params,tp);return{params:t,cols:ei(e.cols,tm),isExplain:et(e.is_explain),isReadonly:et(e.is_readonly)}}function tp(e){return{name:Z(e.name)}}function tm(e){return{name:Y(e.name),decltype:Z(e.decltype)}}function ty(e){let t=Y(e.type);if("null"===t)return null;if("integer"===t)return BigInt(Y(e.value));if("float"===t)return ee(e.value);if("text"===t)return Y(e.value);if("blob"===t)return $.toUint8Array(Y(e.base64));throw new z("Unexpected type of Value")}let tg={default:()=>({message:"",code:void 0}),1(e,t){t.message=e.string()},2(e,t){t.code=e.string()}},tb={default:()=>({cols:[],rows:[],affectedRowCount:0,lastInsertRowid:void 0}),1(e,t){t.cols.push(e.message(tw))},2(e,t){t.rows.push(e.message(tv))},3(e,t){t.affectedRowCount=Number(e.uint64())},4(e,t){t.lastInsertRowid=e.sint64()}},tw={default:()=>({name:void 0,decltype:void 0}),1(e,t){t.name=e.string()},2(e,t){t.decltype=e.string()}},tv={default:()=>[],1(e,t){t.push(e.message(tL))}},tS={default:()=>({stepResults:new Map,stepErrors:new Map}),1(e,t){let[r,s]=e.message(tx);t.stepResults.set(r,s)},2(e,t){let[r,s]=e.message(tq);t.stepErrors.set(r,s)}},tx={default:()=>[0,tb.default()],1(e,t){t[0]=e.uint32()},2(e,t){t[1]=e.message(tb)}},tq={default:()=>[0,tg.default()],1(e,t){t[0]=e.uint32()},2(e,t){t[1]=e.message(tg)}},t_={default:()=>({type:"none"}),1:e=>e.message(tC),2:e=>e.message(tk),3:e=>e.message(tI),4:e=>({type:"row",row:e.message(tv)}),5:e=>({type:"error",error:e.message(tg)})},tC={default:()=>({type:"step_begin",step:0,cols:[]}),1(e,t){t.step=e.uint32()},2(e,t){t.cols.push(e.message(tw))}},tk={default:()=>({type:"step_end",affectedRowCount:0,lastInsertRowid:void 0}),1(e,t){t.affectedRowCount=e.uint32()},2(e,t){t.lastInsertRowid=e.uint64()}},tI={default:()=>({type:"step_error",step:0,error:tg.default()}),1(e,t){t.step=e.uint32()},2(e,t){t.error=e.message(tg)}},tA={default:()=>({params:[],cols:[],isExplain:!1,isReadonly:!1}),1(e,t){t.params.push(e.message(tT))},2(e,t){t.cols.push(e.message(tR))},3(e,t){t.isExplain=e.bool()},4(e,t){t.isReadonly=e.bool()}},tT={default:()=>({name:void 0}),1(e,t){t.name=e.string()}},tR={default:()=>({name:"",decltype:void 0}),1(e,t){t.name=e.string()},2(e,t){t.decltype=e.string()}},tL={default(){},1:e=>null,2:e=>e.sint64(),3:e=>e.double(),4:e=>e.string(),5:e=>e.bytes()},tN={default:()=>({type:"none"}),1:e=>({type:"hello_ok"}),2:e=>e.message(tE),3:e=>e.message(tO),4:e=>e.message(t$)},tE={default:()=>({type:"hello_error",error:tg.default()}),1(e,t){t.error=e.message(tg)}},t$={default:()=>({type:"response_error",requestId:0,error:tg.default()}),1(e,t){t.requestId=e.int32()},2(e,t){t.error=e.message(tg)}},tO={default:()=>({type:"response_ok",requestId:0,response:{type:"none"}}),1(e,t){t.requestId=e.int32()},2(e,t){t.response={type:"open_stream"}},3(e,t){t.response={type:"close_stream"}},4(e,t){t.response=e.message(tj)},5(e,t){t.response=e.message(tQ)},6(e,t){t.response={type:"open_cursor"}},7(e,t){t.response={type:"close_cursor"}},8(e,t){t.response=e.message(tB)},9(e,t){t.response={type:"sequence"}},10(e,t){t.response=e.message(tP)},11(e,t){t.response={type:"store_sql"}},12(e,t){t.response={type:"close_sql"}},13(e,t){t.response=e.message(tU)}},tj={default:()=>({type:"execute",result:tb.default()}),1(e,t){t.result=e.message(tb)}},tQ={default:()=>({type:"batch",result:tS.default()}),1(e,t){t.result=e.message(tS)}},tB={default:()=>({type:"fetch_cursor",entries:[],done:!1}),1(e,t){t.entries.push(e.message(t_))},2(e,t){t.done=e.bool()}},tP={default:()=>({type:"describe",result:tA.default()}),1(e,t){t.result=e.message(tA)}},tU={default:()=>({type:"get_autocommit",isAutocommit:!1}),1(e,t){t.isAutocommit=e.bool()}},tM=new Map([["hrana2",{version:2,encoding:"json"}],["hrana1",{version:1,encoding:"json"}]]),tD=new Map([["hrana3-protobuf",{version:3,encoding:"protobuf"}],["hrana3",{version:3,encoding:"json"}],["hrana2",{version:2,encoding:"json"}],["hrana1",{version:1,encoding:"json"}]]);class tz extends M{#M;#D;#z;#b;#F;#V;#X;#J;#K;_streamIdAlloc;_cursorIdAlloc;#W;constructor(e,t){super(),this.#M=e,this.#D=[],this.#z=!1,this.#b=void 0,this.#F=!1,this.#V=void 0,this.#X=!1,this.#J=new Map,this.#K=new ef,this._streamIdAlloc=new ef,this._cursorIdAlloc=new ef,this.#W=new ef,this.#M.binaryType="arraybuffer",this.#M.addEventListener("open",()=>this.#G()),this.#M.addEventListener("close",e=>this.#H(e)),this.#M.addEventListener("error",e=>this.#Y(e)),this.#M.addEventListener("message",e=>this.#Z(e)),this.#ee({type:"hello",jwt:t})}#ee(e){if(void 0!==this.#b)throw new G("Trying to send a message on a closed client");this.#z?this.#et(e):this.#D.push({openCallback:()=>this.#et(e),errorCallback:()=>void 0})}#G(){let e=this.#M.protocol;if(void 0===e){this.#Q(new D("The `WebSocket.protocol` property is undefined. This most likely means that the WebSocket implementation provided by the environment is broken. If you are using Miniflare 2, please update to Miniflare 3, which fixes this problem."));return}if(""===e)this.#V={version:1,encoding:"json"};else if(this.#V=tD.get(e),void 0===this.#V){this.#Q(new z(`Unrecognized WebSocket subprotocol: ${JSON.stringify(e)}`));return}for(let e of this.#D)e.openCallback();this.#D.length=0,this.#z=!0}#et(e){let t=this.#V.encoding;if("json"===t){let t=ea(e,eJ);this.#M.send(t)}else if("protobuf"===t){let t=ed(e,e3);this.#M.send(t)}else throw ep(t,"Impossible encoding")}getVersion(){return new Promise((e,t)=>{this.#X=!0,void 0!==this.#b?t(this.#b):this.#z?e(this.#V.version):this.#D.push({openCallback:()=>e(this.#V.version),errorCallback:t})})}_ensureVersion(e,t){if(void 0!==this.#V&&this.#X){if(this.#V.version<e)throw new W(`${t} is supported on protocol version ${e} and higher, but the WebSocket server only supports version ${this.#V.version}`)}else throw new W(`${t} is supported only on protocol version ${e} and higher, but the version supported by the WebSocket server is not yet known. Use Client.getVersion() to wait until the version is available.`)}_sendRequest(e,t){if(void 0!==this.#b){t.errorCallback(new V("Client is closed",this.#b));return}let r=this.#K.alloc();this.#J.set(r,{...t,type:e.type}),this.#ee({type:"request",requestId:r,request:e})}#Y(e){let t=e.message;this.#Q(new J(t??"WebSocket was closed due to an error"))}#H(e){let t=`WebSocket was closed with code ${e.code}`;e.reason&&(t+=`: ${e.reason}`),this.#Q(new J(t))}#Q(e){if(void 0===this.#b){for(let t of(this.#b=e,this.#D))t.errorCallback(e);for(let[t,r]of(this.#D.length=0,this.#J.entries()))r.errorCallback(e),this.#K.free(t);this.#J.clear(),this.#M.close()}}#Z(e){if(void 0===this.#b)try{let r;let s=this.#V.encoding;if("json"===s){var t;if("string"!=typeof e.data){this.#M.close(3003,"Only text messages are accepted with JSON encoding"),this.#Q(new z("Received non-text message from server with JSON encoding"));return}t=JSON.parse(e.data),r=function(e){let t=Y(e.type);if("hello_ok"===t)return{type:"hello_ok"};if("hello_error"===t)return{type:"hello_error",error:tl(es(e.error))};if("response_ok"===t)return{type:"response_ok",requestId:ee(e.request_id),response:function(e){let t=Y(e.type);if("open_stream"===t)return{type:"open_stream"};if("close_stream"===t)return{type:"close_stream"};if("execute"===t)return{type:"execute",result:tu(es(e.result))};if("batch"===t)return{type:"batch",result:th(es(e.result))};if("open_cursor"===t)return{type:"open_cursor"};if("close_cursor"===t)return{type:"close_cursor"};if("fetch_cursor"===t)return{type:"fetch_cursor",entries:ei(e.entries,td),done:et(e.done)};else if("sequence"===t)return{type:"sequence"};else if("describe"===t)return{type:"describe",result:tf(es(e.result))};else if("store_sql"===t)return{type:"store_sql"};else if("close_sql"===t)return{type:"close_sql"};else if("get_autocommit"===t)return{type:"get_autocommit",isAutocommit:et(e.is_autocommit)};else throw new z("Unexpected type of Response")}(es(e.response))};if("response_error"===t)return{type:"response_error",requestId:ee(e.request_id),error:tl(es(e.error))};throw new z("Unexpected type of ServerMsg")}(es(t))}else if("protobuf"===s){if(!(e.data instanceof ArrayBuffer)){this.#M.close(3003,"Only binary messages are accepted with Protobuf encoding"),this.#Q(new z("Received non-binary message from server with Protobuf encoding"));return}r=ec(new Uint8Array(e.data),tN)}else throw ep(s,"Impossible encoding");this.#er(r)}catch(e){this.#M.close(3007,"Could not handle message"),this.#Q(e)}}#er(e){if("none"===e.type)throw new z("Received an unrecognized ServerMsg");if("hello_ok"===e.type||"hello_error"===e.type){if(this.#F)throw new z("Received a duplicated hello response");if(this.#F=!0,"hello_error"===e.type)throw e_(e.error);return}if(!this.#F)throw new z("Received a non-hello message before a hello response");if("response_ok"===e.type){let t=e.requestId,r=this.#J.get(t);if(this.#J.delete(t),void 0===r)throw new z("Received unexpected OK response");this.#K.free(t);try{if(r.type!==e.response.type)throw console.dir({responseState:r,msg:e}),new z("Received unexpected type of response");r.responseCallback(e.response)}catch(e){throw r.errorCallback(e),e}}else if("response_error"===e.type){let t=e.requestId,r=this.#J.get(t);if(this.#J.delete(t),void 0===r)throw new z("Received unexpected error response");this.#K.free(t),r.errorCallback(e_(e.error))}else throw ep(e,"Impossible ServerMsg type")}openStream(){return eU.open(this)}storeSql(e){this._ensureVersion(2,"storeSql()");let t=this.#W.alloc(),r=new eC(this,t);return this._sendRequest({type:"store_sql",sqlId:t,sql:e},{responseCallback:()=>void 0,errorCallback:e=>r._setClosed(e)}),r}_closeSql(e){void 0===this.#b&&this._sendRequest({type:"close_sql",sqlId:e},{responseCallback:()=>this.#W.free(e),errorCallback:e=>this.#Q(e)})}close(){this.#Q(new D("Client was manually closed"))}get closed(){return void 0!==this.#b}}let tF=fetch,tV=Request,tX=Headers;if("undefined"!=typeof queueMicrotask)i=queueMicrotask;else{let e=Promise.resolve();i=t=>{e.then(t)}}class tJ{#s;#es;#ei;constructor(e){this.#s=new Uint8Array(new ArrayBuffer(e)),this.#es=0,this.#ei=0}get length(){return this.#ei-this.#es}data(){return this.#s.slice(this.#es,this.#ei)}push(e){this.#en(e.byteLength),this.#s.set(e,this.#ei),this.#ei+=e.byteLength}#en(e){if(this.#ei+e<=this.#s.byteLength)return;let t=this.#ei-this.#es;if(t+e<=this.#s.byteLength&&2*this.#ei>=this.#s.byteLength)this.#s.copyWithin(0,this.#es,this.#ei);else{let r=this.#s.byteLength;do r*=2;while(t+e>r);let s=new Uint8Array(new ArrayBuffer(r));s.set(this.#s.slice(this.#es,this.#ei),0),this.#s=s}this.#ei=t,this.#es=0}shift(e){this.#es+=e}}function tK(e){let t=Y(e.type);if("ok"===t)return{type:"ok",response:function(e){let t=Y(e.type);if("close"===t)return{type:"close"};if("execute"===t)return{type:"execute",result:tu(es(e.result))};if("batch"===t)return{type:"batch",result:th(es(e.result))};if("sequence"===t)return{type:"sequence"};if("describe"===t)return{type:"describe",result:tf(es(e.result))};if("store_sql"===t)return{type:"store_sql"};if("close_sql"===t)return{type:"close_sql"};else if("get_autocommit"===t)return{type:"get_autocommit",isAutocommit:et(e.is_autocommit)};else throw new z("Unexpected type of StreamResponse")}(es(e.response))};if("error"===t)return{type:"error",error:tl(es(e.error))};throw new z("Unexpected type of StreamResult")}function tW(e){return{baton:Z(e.baton),baseUrl:Z(e.base_url)}}let tG={default:()=>({baton:void 0,baseUrl:void 0,results:[]}),1(e,t){t.baton=e.string()},2(e,t){t.baseUrl=e.string()},3(e,t){t.results.push(e.message(tH))}},tH={default:()=>({type:"none"}),1:e=>({type:"ok",response:e.message(tY)}),2:e=>({type:"error",error:e.message(tg)})},tY={default:()=>({type:"none"}),1:e=>({type:"close"}),2:e=>e.message(tZ),3:e=>e.message(t0),4:e=>({type:"sequence"}),5:e=>e.message(t1),6:e=>({type:"store_sql"}),7:e=>({type:"close_sql"}),8:e=>e.message(t2)},tZ={default:()=>({type:"execute",result:tb.default()}),1(e,t){t.result=e.message(tb)}},t0={default:()=>({type:"batch",result:tS.default()}),1(e,t){t.result=e.message(tS)}},t1={default:()=>({type:"describe",result:tA.default()}),1(e,t){t.result=e.message(tA)}},t2={default:()=>({type:"get_autocommit",isAutocommit:!1}),1(e,t){t.isAutocommit=e.bool()}},t3={default:()=>({baton:void 0,baseUrl:void 0}),1(e,t){t.baton=e.string()},2(e,t){t.baseUrl=e.string()}};class t5 extends eB{#I;#eo;#o;#$;#b;#L;constructor(e,t){super(),this.#I=e,this.#eo=t,this.#o=void 0,this.#$=new tJ(16384),this.#b=void 0,this.#L=!1}async open(e){if(null===e.body)throw new z("No response body for cursor request");this.#o=e.body.getReader();let t=await this.#ea(tW,t3);if(void 0===t)throw new z("Empty response to cursor request");return t}next(){return this.#ea(td,t_)}close(){this._setClosed(new D("Cursor was manually closed"))}_setClosed(e){void 0===this.#b&&(this.#b=e,this.#I._cursorClosed(this),void 0!==this.#o&&this.#o.cancel())}get closed(){return void 0!==this.#b}async #ea(e,t){for(;;){if(this.#L)return;if(void 0!==this.#b)throw new V("Cursor is closed",this.#b);if("json"===this.#eo){let t=this.#el();if(void 0!==t)return e(es(JSON.parse(new TextDecoder().decode(t))))}else if("protobuf"===this.#eo){let e=this.#eu();if(void 0!==e)return ec(e,t)}else throw ep(this.#eo,"Impossible encoding");if(void 0===this.#o)throw new G("Attempted to read from HTTP cursor before it was opened");let{value:r,done:s}=await this.#o.read();if(s&&0===this.#$.length)this.#L=!0;else if(s)throw new z("Unexpected end of cursor stream");else this.#$.push(r)}}#el(){let e=this.#$.data(),t=e.indexOf(10);if(t<0)return;let r=e.slice(0,t);return this.#$.shift(t+1),r}#eu(){let e=this.#$.data(),t=0,r=0;for(;;){if(r>=e.byteLength)return;let s=e[r];if(t|=(127&s)<<7*r,r+=1,!(128&s))break}if(e.byteLength<r+t)return;let s=e.slice(r,r+t);return this.#$.shift(r+t),s}}function t8(e,t){void 0!==t.baton&&e.string("baton",t.baton),e.arrayObjects("requests",t.requests,t6)}function t6(e,t){if(e.stringRaw("type",t.type),"close"===t.type);else if("execute"===t.type)e.object("stmt",t.stmt,eM);else if("batch"===t.type)e.object("batch",t.batch,ez);else if("sequence"===t.type)void 0!==t.sql&&e.string("sql",t.sql),void 0!==t.sqlId&&e.number("sql_id",t.sqlId);else if("describe"===t.type)void 0!==t.sql&&e.string("sql",t.sql),void 0!==t.sqlId&&e.number("sql_id",t.sqlId);else if("store_sql"===t.type)e.number("sql_id",t.sqlId),e.string("sql",t.sql);else if("close_sql"===t.type)e.number("sql_id",t.sqlId);else if("get_autocommit"===t.type);else throw ep(t,"Impossible type of StreamRequest")}function t4(e,t){void 0!==t.baton&&e.string("baton",t.baton),e.object("batch",t.batch,ez)}function t7(e,t){for(let r of(void 0!==t.baton&&e.string(1,t.baton),t.requests))e.message(2,r,t9)}function t9(e,t){if("close"===t.type)e.message(1,t,re);else if("execute"===t.type)e.message(2,t,rt);else if("batch"===t.type)e.message(3,t,rr);else if("sequence"===t.type)e.message(4,t,rs);else if("describe"===t.type)e.message(5,t,ri);else if("store_sql"===t.type)e.message(6,t,rn);else if("close_sql"===t.type)e.message(7,t,ro);else if("get_autocommit"===t.type)e.message(8,t,ra);else throw ep(t,"Impossible type of StreamRequest")}function re(e,t){}function rt(e,t){e.message(1,t.stmt,eW)}function rr(e,t){e.message(1,t.batch,eH)}function rs(e,t){void 0!==t.sql&&e.string(1,t.sql),void 0!==t.sqlId&&e.int32(2,t.sqlId)}function ri(e,t){void 0!==t.sql&&e.string(1,t.sql),void 0!==t.sqlId&&e.int32(2,t.sqlId)}function rn(e,t){e.int32(1,t.sqlId),e.string(2,t.sql)}function ro(e,t){e.int32(1,t.sqlId)}function ra(e,t){}function rl(e,t){void 0!==t.baton&&e.string(1,t.baton),e.message(2,t.batch,eH)}class ru extends eQ{#k;#ec;#eh;#N;#ed;#$;#ef;#O;#j;#ep;#b;#W;constructor(e,t,r,s){super(e.intMode),this.#k=e,this.#ec=t.toString(),this.#eh=r,this.#N=s,this.#ed=void 0,this.#$=new eI,this.#ef=!1,this.#j=!1,this.#ep=!1,this.#b=void 0,this.#W=new ef}client(){return this.#k}_sqlOwner(){return this}storeSql(e){let t=this.#W.alloc();return this.#B({type:"store_sql",sqlId:t,sql:e}).then(()=>void 0,e=>this._setClosed(e)),new eC(this,t)}_closeSql(e){void 0===this.#b&&this.#B({type:"close_sql",sqlId:e}).then(()=>this.#W.free(e),e=>this._setClosed(e))}_execute(e){return this.#B({type:"execute",stmt:e}).then(e=>e.result)}_batch(e){return this.#B({type:"batch",batch:e}).then(e=>e.result)}_describe(e){return this.#B({type:"describe",sql:e.sql,sqlId:e.sqlId}).then(e=>e.result)}_sequence(e){return this.#B({type:"sequence",sql:e.sql,sqlId:e.sqlId}).then(e=>{})}getAutocommit(){return this.#k._ensureVersion(3,"getAutocommit()"),this.#B({type:"get_autocommit"}).then(e=>e.isAutocommit)}#B(e){return new Promise((t,r)=>{this.#P({type:"pipeline",request:e,responseCallback:t,errorCallback:r})})}_openCursor(e){return new Promise((t,r)=>{this.#P({type:"cursor",batch:e,cursorCallback:t,errorCallback:r})})}_cursorClosed(e){if(e!==this.#O)throw new G("Cursor was closed, but it was not associated with the stream");this.#O=void 0,i(()=>this.#U())}close(){this._setClosed(new D("Stream was manually closed"))}closeGracefully(){this.#j=!0,i(()=>this.#U())}get closed(){return void 0!==this.#b||this.#j}_setClosed(e){if(void 0===this.#b){for(this.#b=e,void 0!==this.#O&&this.#O._setClosed(e),this.#k._streamClosed(this);;){let t=this.#$.shift();if(void 0!==t)t.errorCallback(e);else break}(void 0!==this.#ed||this.#ef)&&!this.#ep&&(this.#$.push({type:"pipeline",request:{type:"close"},responseCallback:()=>void 0,errorCallback:()=>void 0}),this.#ep=!0,i(()=>this.#U()))}}#P(e){if(void 0!==this.#b)throw new V("Stream is closed",this.#b);if(this.#j)throw new V("Stream is closing",void 0);this.#$.push(e),i(()=>this.#U())}#U(){if(this.#ef||void 0!==this.#O)return;if(this.#j&&0===this.#$.length){this._setClosed(new D("Stream was gracefully closed"));return}let e=this.#k._endpoint;if(void 0===e){this.#k._endpointPromise.then(()=>this.#U(),e=>this._setClosed(e));return}let t=this.#$.shift();if(void 0!==t){if("pipeline"===t.type){let r=[t];for(;;){let e=this.#$.first();if(void 0!==e&&"pipeline"===e.type)r.push(e),this.#$.shift();else if(void 0===e&&this.#j&&!this.#ep){r.push({type:"pipeline",request:{type:"close"},responseCallback:()=>void 0,errorCallback:()=>void 0}),this.#ep=!0;break}else break}this.#em(e,r)}else if("cursor"===t.type)this.#ey(e,t);else throw ep(t,"Impossible type of QueueEntry")}}#em(e,t){this.#eg(()=>this.#eb(t,e),t=>rc(t,e.encoding),e=>e.baton,e=>e.baseUrl,e=>(function(e,t){if(t.results.length!==e.length)throw new z("Server returned unexpected number of pipeline results");for(let r=0;r<e.length;++r){let s=t.results[r],i=e[r];if("ok"===s.type){if(s.response.type!==i.request.type)throw new z("Received unexpected type of response");i.responseCallback(s.response)}else if("error"===s.type)i.errorCallback(e_(s.error));else if("none"===s.type)throw new z("Received unrecognized type of StreamResult");else throw ep(s,"Received impossible type of StreamResult")}})(t,e),e=>t.forEach(t=>t.errorCallback(e)))}#ey(e,t){let r=new t5(this,e.encoding);this.#O=r,this.#eg(()=>this.#ew(t,e),e=>r.open(e),e=>e.baton,e=>e.baseUrl,e=>t.cursorCallback(r),e=>t.errorCallback(e))}#eg(e,t,r,s,i,n){let o;try{let t=e();o=(0,this.#N)(t)}catch(e){o=Promise.reject(e)}this.#ef=!0,o.then(e=>e.ok?t(e):rh(e).then(e=>{throw e})).then(e=>{this.#ed=r(e),this.#ec=s(e)??this.#ec,i(e)}).catch(e=>{this._setClosed(e),n(e)}).finally(()=>{this.#ef=!1,this.#U()})}#eb(e,t){return this.#ev(new URL(t.pipelinePath,this.#ec),{baton:this.#ed,requests:e.map(e=>e.request)},t.encoding,t8,t7)}#ew(e,t){if(void 0===t.cursorPath)throw new W(`Cursors are supported only on protocol version 3 and higher, but the HTTP server only supports version ${t.version}.`);return this.#ev(new URL(t.cursorPath,this.#ec),{baton:this.#ed,batch:e.batch},t.encoding,t4,rl)}#ev(e,t,r,s,i){let n,o;if("json"===r)n=ea(t,s),o="application/json";else if("protobuf"===r)n=ed(t,i),o="application/x-protobuf";else throw ep(r,"Impossible encoding");let a=new tX;return a.set("content-type",o),void 0!==this.#eh&&a.set("authorization",`Bearer ${this.#eh}`),new tV(e.toString(),{method:"POST",headers:a,body:n})}}async function rc(e,t){if("json"===t){var r;return{baton:Z((r=es(await e.json())).baton),baseUrl:Z(r.base_url),results:ei(r.results,tK)}}if("protobuf"===t)return ec(new Uint8Array(await e.arrayBuffer()),tG);throw await e.body?.cancel(),ep(t,"Impossible encoding")}async function rh(e){let t=e.headers.get("content-type")??"text/plain",r=`Server returned HTTP status ${e.status}`;if("application/json"===t){let t=await e.json();return"message"in t?e_(t):new K(r,e.status)}if("text/plain"===t){let t=(await e.text()).trim();return""!==t&&(r+=`: ${t}`),new K(r,e.status)}return await e.body?.cancel(),new K(r,e.status)}let rd=[{versionPath:"v3-protobuf",pipelinePath:"v3-protobuf/pipeline",cursorPath:"v3-protobuf/cursor",version:3,encoding:"protobuf"}],rf={versionPath:"v2",pipelinePath:"v2/pipeline",cursorPath:void 0,version:2,encoding:"json"};class rp extends M{#eS;#eh;#N;#b;#ex;_endpointPromise;_endpoint;constructor(e,t,r,s=2){super(),this.#eS=e,this.#eh=t,this.#N=r??tF,this.#b=void 0,this.#ex=new Set,3==s?(this._endpointPromise=rm(this.#N,this.#eS),this._endpointPromise.then(e=>this._endpoint=e,e=>this.#Q(e))):(this._endpointPromise=Promise.resolve(rf),this._endpointPromise.then(e=>this._endpoint=e,e=>this.#Q(e)))}async getVersion(){return void 0!==this._endpoint?this._endpoint.version:(await this._endpointPromise).version}_ensureVersion(e,t){if(!(e<=rf.version)){if(void 0===this._endpoint)throw new W(`${t} is supported only on protocol version ${e} and higher, but the version supported by the HTTP server is not yet known. Use Client.getVersion() to wait until the version is available.`);if(this._endpoint.version<e)throw new W(`${t} is supported only on protocol version ${e} and higher, but the HTTP server only supports version ${this._endpoint.version}.`)}}openStream(){if(void 0!==this.#b)throw new V("Client is closed",this.#b);let e=new ru(this,this.#eS,this.#eh,this.#N);return this.#ex.add(e),e}_streamClosed(e){this.#ex.delete(e)}close(){this.#Q(new D("Client was manually closed"))}get closed(){return void 0!==this.#b}#Q(e){if(void 0===this.#b)for(let t of(this.#b=e,Array.from(this.#ex)))t._setClosed(new V("Client was closed",e))}}async function rm(e,t){for(let r of rd){let s=new tV(new URL(r.versionPath,t).toString(),{method:"GET"}),i=await e(s);if(await i.arrayBuffer(),i.ok)return r}return rf}function ry(e,t,r=2){if(void 0===s)throw new X("WebSockets are not supported in this environment");var i=void 0;return i=3==r?Array.from(tD.keys()):Array.from(tM.keys()),new tz(new s(e,i),t)}function rg(e,t,r,s=2){return new rp(e instanceof URL?e:new URL(e),t,r,s)}class rb{#eq;#e_;#eC;constructor(e,t){this.#eq=e,this.#e_=t,this.#eC=void 0}execute(e){return this.batch([e]).then(e=>e[0])}async batch(e){let t=this._getStream();if(t.closed)throw new n("Cannot execute statements because the transaction is closed","TRANSACTION_CLOSED");try{let r;let s=e.map(rv);if(void 0===this.#eC){this._getSqlCache().apply(s);let e=t.batch(this.#e_>=3),i=e.step(),n=i.run(j(this.#eq)),o=i;r=s.map(t=>{let r=e.step().condition(eE.ok(o));this.#e_>=3&&r.condition(eE.not(eE.isAutocommit(e)));let s=r.query(t);return s.catch(()=>void 0),o=r,s}),this.#eC=e.execute().then(()=>n).then(()=>void 0);try{await this.#eC}catch(e){throw this.close(),e}}else{let e;this.#e_<3&&await this.#eC,this._getSqlCache().apply(s);let i=t.batch(this.#e_>=3);r=s.map(t=>{let r=i.step();void 0!==e&&r.condition(eE.ok(e)),this.#e_>=3&&r.condition(eE.not(eE.isAutocommit(i)));let s=r.query(t);return s.catch(()=>void 0),e=r,s}),await i.execute()}let i=[];for(let e of r){let t=await e;if(void 0===t)throw new n("Statement in a transaction was not executed, probably because the transaction has been rolled back","TRANSACTION_CLOSED");i.push(rS(t))}return i}catch(e){throw rx(e)}}async executeMultiple(e){let t=this._getStream();if(t.closed)throw new n("Cannot execute statements because the transaction is closed","TRANSACTION_CLOSED");try{if(void 0===this.#eC){this.#eC=t.run(j(this.#eq)).then(()=>void 0);try{await this.#eC}catch(e){throw this.close(),e}}else await this.#eC;await t.sequence(e)}catch(e){throw rx(e)}}async rollback(){try{let e=this._getStream();if(e.closed||void 0===this.#eC)return;let t=e.run("ROLLBACK").catch(e=>{throw rx(e)});e.closeGracefully(),await t}catch(e){throw rx(e)}finally{this.close()}}async commit(){try{let e=this._getStream();if(e.closed)throw new n("Cannot commit the transaction because it is already closed","TRANSACTION_CLOSED");if(void 0===this.#eC)return;await this.#eC;let t=e.run("COMMIT").catch(e=>{throw rx(e)});e.closeGracefully(),await t}catch(e){throw rx(e)}finally{this.close()}}}async function rw(e,t,r,s,i=!1){i&&r.step().run("PRAGMA foreign_keys=off");let o=r.step(),a=o.run(j(e)),l=o,u=s.map(e=>{let s=r.step().condition(eE.ok(l));t>=3&&s.condition(eE.not(eE.isAutocommit(r)));let i=s.query(e);return l=s,i}),c=r.step().condition(eE.ok(l));t>=3&&c.condition(eE.not(eE.isAutocommit(r)));let h=c.run("COMMIT");r.step().condition(eE.not(eE.ok(c))).run("ROLLBACK").catch(e=>void 0),i&&r.step().run("PRAGMA foreign_keys=on"),await r.execute();let d=[];for(let e of(await a,u)){let t=await e;if(void 0===t)throw new n("Statement in a batch was not executed, probably because the transaction has been rolled back","TRANSACTION_CLOSED");d.push(rS(t))}return await h,d}function rv(e){let t,r;Array.isArray(e)?[t,r]=e:"string"==typeof e?t=e:(t=e.sql,r=e.args);let s=new eA(t);if(r){if(Array.isArray(r))s.bindIndexes(r);else for(let[e,t]of Object.entries(r))s.bindName(e,t)}return s}function rS(e){let t=e.columnNames.map(e=>e??""),r=e.columnDecltypes.map(e=>e??"");return new Q(t,r,e.rows,e.affectedRowCount,void 0!==e.lastInsertRowid?e.lastInsertRowid:void 0)}function rx(e){if(e instanceof D){let t=function e(t){if(t instanceof F&&void 0!==t.code)return t.code;if(t instanceof z)return"HRANA_PROTO_ERROR";if(t instanceof V)return t.cause instanceof D?e(t.cause):"HRANA_CLOSED_ERROR";if(t instanceof J)return"HRANA_WEBSOCKET_ERROR";if(t instanceof K)return"SERVER_ERROR";if(t instanceof W)return"PROTOCOL_VERSION_ERROR";if(t instanceof G)return"INTERNAL_ERROR";else return"UNKNOWN"}(e);return new n(e.message,t,void 0,e)}return e}class rq{#y;#ek;capacity;constructor(e,t){this.#y=e,this.#ek=new r_,this.capacity=t}apply(e){if(this.capacity<=0)return;let t=new Set;for(let r of e){if("string"!=typeof r.sql)continue;let e=r.sql;if(e.length>=5e3)continue;let s=this.#ek.get(e);if(void 0===s){for(;this.#ek.size+1>this.capacity;){let[e,r]=this.#ek.peekLru();if(t.has(r))break;r.close(),this.#ek.delete(e)}this.#ek.size+1<=this.capacity&&(s=this.#y.storeSql(e),this.#ek.set(e,s))}void 0!==s&&(r.sql=s,t.add(s))}}}class r_{#eI;constructor(){this.#eI=new Map}get(e){let t=this.#eI.get(e);return void 0!==t&&(this.#eI.delete(e),this.#eI.set(e,t)),t}set(e,t){this.#eI.set(e,t)}peekLru(){for(let e of this.#eI.entries())return e}delete(e){this.#eI.delete(e)}get size(){return this.#eI.size}}var rC=r(2018);class rk{#eS;#eA;#eT;#eR;#eL;closed;protocol;#eN;#eE;constructor(e,t,r,s,i){this.#eS=t,this.#eA=r,this.#eT=s,this.#eR=this.#e$(e),this.#eL=void 0,this.closed=!1,this.protocol="ws",this.#eE=rC(i)}async limit(e){return this.#eE(e)}async execute(e,t){let r;return r="string"==typeof e?{sql:e,args:t||[]}:e,this.limit(async()=>{let e=await this.#eO();try{let t=rv(r);e.conn.sqlCache.apply([t]);let s=e.stream.query(t);e.stream.closeGracefully();let i=await s;return rS(i)}catch(e){throw rx(e)}finally{this._closeStream(e)}})}async batch(e,t="deferred"){return this.limit(async()=>{let r=await this.#eO();try{let s=e.map(e=>Array.isArray(e)?{sql:e[0],args:e[1]||[]}:e).map(rv),i=await r.conn.client.getVersion();r.conn.sqlCache.apply(s);let n=r.stream.batch(i>=3),o=rw(t,i,n,s);return await o}catch(e){throw rx(e)}finally{this._closeStream(r)}})}async migrate(e){return this.limit(async()=>{let t=await this.#eO();try{let r=e.map(rv),s=await t.conn.client.getVersion(),i=t.stream.batch(s>=3),n=rw("deferred",s,i,r,!0);return await n}catch(e){throw rx(e)}finally{this._closeStream(t)}})}async transaction(e="write"){return this.limit(async()=>{let t=await this.#eO();try{let r=await t.conn.client.getVersion();return new rI(this,t,e,r)}catch(e){throw this._closeStream(t),rx(e)}})}async executeMultiple(e){return this.limit(async()=>{let t=await this.#eO();try{let r=t.stream.sequence(e);t.stream.closeGracefully(),await r}catch(e){throw rx(e)}finally{this._closeStream(t)}})}sync(){throw new n("sync not supported in ws mode","SYNC_NOT_SUPPORTED")}async #eO(){if(this.closed)throw new n("The client is closed","CLIENT_CLOSED");if(new Date().valueOf()-this.#eR.openTime.valueOf()>6e4&&void 0===this.#eL){let e=this.#e$();this.#eL=e,e.client.getVersion().then(t=>{this.#eR!==e&&0===this.#eR.streamStates.size&&this.#eR.client.close(),this.#eR=e,this.#eL=void 0},e=>{this.#eL=void 0})}if(this.#eR.client.closed)try{void 0!==this.#eL?this.#eR=this.#eL:this.#eR=this.#e$()}catch(e){throw rx(e)}let e=this.#eR;try{void 0===e.useSqlCache&&(e.useSqlCache=await e.client.getVersion()>=2,e.useSqlCache&&(e.sqlCache.capacity=100));let t=e.client.openStream();t.intMode=this.#eT;let r={conn:e,stream:t};return e.streamStates.add(r),r}catch(e){throw rx(e)}}#e$(e){try{return{client:e??=ry(this.#eS,this.#eA),useSqlCache:void 0,sqlCache:new rq(e,0),openTime:new Date,streamStates:new Set}}catch(e){throw rx(e)}}async reconnect(){try{for(let e of Array.from(this.#eR.streamStates))try{e.stream.close()}catch{}this.#eR.client.close()}catch{}if(this.#eL){try{this.#eL.client.close()}catch{}this.#eL=void 0}let e=this.#e$(),t=await e.client.getVersion();e.useSqlCache=t>=2,e.useSqlCache&&(e.sqlCache.capacity=100),this.#eR=e,this.closed=!1}_closeStream(e){e.stream.close();let t=e.conn;t.streamStates.delete(e),0===t.streamStates.size&&t!==this.#eR&&t.client.close()}close(){if(this.#eR.client.close(),this.closed=!0,this.#eL){try{this.#eL.client.close()}catch{}this.#eL=void 0}this.closed=!0}}class rI extends rb{#k;#ej;constructor(e,t,r,s){super(r,s),this.#k=e,this.#ej=t}_getStream(){return this.#ej.stream}_getSqlCache(){return this.#ej.conn.sqlCache}close(){this.#k._closeStream(this.#ej)}get closed(){return this.#ej.stream.closed}}class rA{#k;protocol;#eS;#eT;#eQ;#eB;#eA;#eE;constructor(e,t,r,s,i){this.#eS=e,this.#eA=t,this.#eT=r,this.#eQ=s,this.#eB=i,this.#k=rg(this.#eS,this.#eA,this.#eQ),this.#k.intMode=this.#eT,this.protocol="http",this.#eE=rC(this.#eB)}async limit(e){return this.#eE(e)}async execute(e,t){let r;return r="string"==typeof e?{sql:e,args:t||[]}:e,this.limit(async()=>{try{let e;let t=rv(r),s=this.#k.openStream();try{e=s.query(t)}finally{s.closeGracefully()}let i=await e;return rS(i)}catch(e){throw rx(e)}})}async batch(e,t="deferred"){return this.limit(async()=>{try{let r;let s=e.map(e=>Array.isArray(e)?{sql:e[0],args:e[1]||[]}:e).map(rv),i=await this.#k.getVersion(),n=this.#k.openStream();try{new rq(n,30).apply(s);let e=n.batch(!1);r=rw(t,i,e,s)}finally{n.closeGracefully()}return await r}catch(e){throw rx(e)}})}async migrate(e){return this.limit(async()=>{try{let t;let r=e.map(rv),s=await this.#k.getVersion(),i=this.#k.openStream();try{let e=i.batch(!1);t=rw("deferred",s,e,r,!0)}finally{i.closeGracefully()}return await t}catch(e){throw rx(e)}})}async transaction(e="write"){return this.limit(async()=>{try{let t=await this.#k.getVersion();return new rT(this.#k.openStream(),e,t)}catch(e){throw rx(e)}})}async executeMultiple(e){return this.limit(async()=>{try{let t;let r=this.#k.openStream();try{t=r.sequence(e)}finally{r.closeGracefully()}await t}catch(e){throw rx(e)}})}sync(){throw new n("sync not supported in http mode","SYNC_NOT_SUPPORTED")}close(){this.#k.close()}async reconnect(){try{this.closed||this.#k.close()}finally{this.#k=rg(this.#eS,this.#eA,this.#eQ),this.#k.intMode=this.#eT}}get closed(){return this.#k.closed}}class rT extends rb{#I;#eP;constructor(e,t,r){super(t,r),this.#I=e,this.#eP=new rq(e,30)}_getStream(){return this.#I}_getSqlCache(){return this.#eP}close(){this.#I.close()}get closed(){return this.#I.closed}}function rR(e){return function(e){if("ws"===e.scheme||"wss"===e.scheme)return function(e){let t;if("wss"!==e.scheme&&"ws"!==e.scheme)throw new n(`The WebSocket client supports only "libsql:", "wss:" and "ws:" URLs, got ${JSON.stringify(e.scheme+":")}. For more information, please read ${O}`,"URL_SCHEME_NOT_SUPPORTED");if(void 0!==e.encryptionKey)throw new n("Encryption key is not supported by the remote client.","ENCRYPTION_KEY_NOT_SUPPORTED");if("ws"===e.scheme&&e.tls)throw new n('A "ws:" URL cannot opt into TLS by using ?tls=1',"URL_INVALID");if("wss"===e.scheme&&!e.tls)throw new n('A "wss:" URL cannot opt out of TLS by using ?tls=0',"URL_INVALID");let r=u(e.scheme,e.authority,e.path);try{t=ry(r,e.authToken)}catch(t){if(t instanceof X){let t="wss"===e.scheme?"https":"http",r=u(t,e.authority,e.path);throw new n(`This environment does not support WebSockets, please switch to the HTTP client by using a "${t}:" URL (${JSON.stringify(r)}). For more information, please read ${O}`,"WEBSOCKETS_NOT_SUPPORTED")}throw rx(t)}return new rk(t,r,e.authToken,e.intMode,e.concurrency)}(e);if("http"===e.scheme||"https"===e.scheme)return function(e){if("https"!==e.scheme&&"http"!==e.scheme)throw new n(`The HTTP client supports only "libsql:", "https:" and "http:" URLs, got ${JSON.stringify(e.scheme+":")}. For more information, please read ${O}`,"URL_SCHEME_NOT_SUPPORTED");if(void 0!==e.encryptionKey)throw new n("Encryption key is not supported by the remote client.","ENCRYPTION_KEY_NOT_SUPPORTED");if("http"===e.scheme&&e.tls)throw new n('A "http:" URL cannot opt into TLS by using ?tls=1',"URL_INVALID");if("https"===e.scheme&&!e.tls)throw new n('A "https:" URL cannot opt out of TLS by using ?tls=0',"URL_INVALID");return new rA(u(e.scheme,e.authority,e.path),e.authToken,e.intMode,e.fetch,e.concurrency)}(e);throw new n(`The client that uses Web standard APIs supports only "libsql:", "wss:", "ws:", "https:" and "http:" URLs, got ${JSON.stringify(e.scheme+":")}. For more information, please read ${O}`,"URL_SCHEME_NOT_SUPPORTED")}(function(e,t){let r,s;if("object"!=typeof e)throw TypeError(`Expected client configuration as object, got ${typeof e}`);let{url:i,authToken:u,tls:c,intMode:h,concurrency:d}=e;d=Math.max(0,d||20),h??="number";let f=[];i===U&&(i="file::memory:");let p=function(e){let t=o.exec(e);if(null===t)throw new n(`The URL '${e}' is not in a valid format`,"URL_INVALID");let r=t.groups,s=r.scheme,i=void 0!==r.authority?function(e){let t=a.exec(e);if(null===t)throw new n("The authority part of the URL is not in a valid format","URL_INVALID");let r=t.groups;return{host:l(r.host_br??r.host),port:r.port?parseInt(r.port,10):void 0,userinfo:void 0!==r.username?{username:l(r.username),password:void 0!==r.password?l(r.password):void 0}:void 0}}(r.authority):void 0;return{scheme:s,authority:i,path:l(r.path),query:void 0!==r.query?function(e){let t=e.split("&"),r=[];for(let e of t){let t,s;if(""===e)continue;let i=e.indexOf("=");i<0?(t=e,s=""):(t=e.substring(0,i),s=e.substring(i+1)),r.push({key:l(t.replaceAll("+"," ")),value:l(s.replaceAll("+"," "))})}return{pairs:r}}(r.query):void 0,fragment:void 0!==r.fragment?l(r.fragment):void 0}}(i),m=p.scheme.toLowerCase(),y="file"===m&&p.path===U&&void 0===p.authority;for(let{key:e,value:t}of(r=y?{cache:{values:["shared","private"],update:(e,t)=>f.push(`${e}=${t}`)}}:{tls:{values:["0","1"],update:(e,t)=>c="1"===t},authToken:{update:(e,t)=>u=t}},p.query?.pairs??[])){if(!Object.hasOwn(r,e))throw new n(`Unsupported URL query parameter ${JSON.stringify(e)}`,"URL_PARAM_NOT_SUPPORTED");let s=r[e];if(void 0!==s.values&&!s.values.includes(t))throw new n(`Unknown value for the "${e}" query argument: ${JSON.stringify(t)}. Supported values are: [${s.values.map(e=>'"'+e+'"').join(", ")}]`,"URL_INVALID");void 0!==s.update&&s?.update(e,t)}let g=0===f.length?"":`?${f.join("&")}`,b=p.path+g;if("libsql"===m){if(!1===c){if(p.authority?.port===void 0)throw new n('A "libsql:" URL with ?tls=0 must specify an explicit port',"URL_INVALID");s=t?"http":"ws"}else s=t?"https":"wss"}else s=m;if("http"===s||"ws"===s?c??=!1:c??=!0,"http"!==s&&"ws"!==s&&"https"!==s&&"wss"!==s&&"file"!==s)throw new n(`The client supports only "libsql:", "wss:", "ws:", "https:", "http:" and "file:" URLs, got ${JSON.stringify(p.scheme+":")}. For more information, please read ${O}`,"URL_SCHEME_NOT_SUPPORTED");if("number"!==h&&"bigint"!==h&&"string"!==h)throw TypeError(`Invalid value for intMode, expected "number", "bigint" or "string", got ${JSON.stringify(h)}`);if(void 0!==p.fragment)throw new n(`URL fragments are not supported: ${JSON.stringify("#"+p.fragment)}`,"URL_INVALID");return y?{scheme:"file",tls:!1,path:b,intMode:h,concurrency:d,syncUrl:e.syncUrl,syncInterval:e.syncInterval,readYourWrites:e.readYourWrites,offline:e.offline,fetch:e.fetch,authToken:void 0,encryptionKey:void 0,authority:void 0}:{scheme:s,tls:c,authority:p.authority,path:b,authToken:u,intMode:h,concurrency:d,encryptionKey:e.encryptionKey,syncUrl:e.syncUrl,syncInterval:e.syncInterval,readYourWrites:e.readYourWrites,offline:e.offline,fetch:e.fetch}}(e,!0))}},472:(e,t,r)=>{"use strict";r.d(t,{b:()=>l});var s=r(2115);r(7650);var i=r(1290),n=r(5155),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,i.TL)(`Primitive.${t}`),o=s.forwardRef((e,s)=>{let{asChild:i,...o}=e,a=i?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(a,{...o,ref:s})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),a=s.forwardRef((e,t)=>(0,n.jsx)(o.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var l=a},1290:(e,t,r)=>{"use strict";r.d(t,{DX:()=>h,TL:()=>c});var s=r(2115),i=r.t(s,2);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var o=r(5155),a=Symbol.for("react.lazy"),l=i[" use ".trim().toString()];function u(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===a&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function c(e){let t=function(e){let t=s.forwardRef((e,t)=>{let{children:r,...i}=e;if(u(r)&&"function"==typeof l&&(r=l(r._payload)),s.isValidElement(r)){var o;let e,a;let l=(o=r,(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?o.ref:(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?o.props.ref:o.props.ref||o.ref),u=function(e,t){let r={...t};for(let s in t){let i=e[s],n=t[s];/^on[A-Z]/.test(s)?i&&n?r[s]=(...e)=>{let t=n(...e);return i(...e),t}:i&&(r[s]=i):"style"===s?r[s]={...i,...n}:"className"===s&&(r[s]=[i,n].filter(Boolean).join(" "))}return{...e,...r}}(i,r.props);return r.type!==s.Fragment&&(u.ref=t?function(...e){return t=>{let r=!1,s=e.map(e=>{let s=n(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():n(e[t],null)}}}}(t,l):l),s.cloneElement(r,u)}return s.Children.count(r)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=s.forwardRef((e,r)=>{let{children:i,...n}=e;u(i)&&"function"==typeof l&&(i=l(i._payload));let a=s.Children.toArray(i),c=a.find(f);if(c){let e=c.props.children,i=a.map(t=>t!==c?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,o.jsx)(t,{...n,ref:r,children:s.isValidElement(e)?s.cloneElement(e,void 0,i):null})}return(0,o.jsx)(t,{...n,ref:r,children:i})});return r.displayName=`${e}.Slot`,r}var h=c("Slot"),d=Symbol("radix.slottable");function f(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}},698:(e,t,r)=>{"use strict";function s(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}r.d(t,{_:()=>s})},1027:(e,t,r)=>{"use strict";r.d(t,{F:()=>o});var s=r(3463);let i=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=s.$,o=(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return n(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:o,defaultVariants:a}=t,l=Object.keys(o).map(e=>{let t=null==r?void 0:r[e],s=null==a?void 0:a[e];if(null===t)return null;let n=i(t)||i(s);return o[e][n]}),u=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return n(e,l,null==t?void 0:null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let{class:r,className:s,...i}=t;return Object.entries(i).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...a,...u}[t]):({...a,...u})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},3463:(e,t,r)=>{"use strict";function s(){for(var e,t,r=0,s="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=function e(t){var r,s,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t)){var n=t.length;for(r=0;r<n;r++)t[r]&&(s=e(t[r]))&&(i&&(i+=" "),i+=s)}else for(s in t)t[s]&&(i&&(i+=" "),i+=s)}return i}(e))&&(s&&(s+=" "),s+=t);return s}r.d(t,{$:()=>s})},1820:(e,t,r)=>{"use strict";r.d(t,{Q:()=>i});var s=r(5311);class i{static [s.i]="ColumnBuilder";config;constructor(e,t,r){this.config={name:e,keyAsName:""===e,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:t,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){""===this.config.name&&(this.config.name=e)}}},5178:(e,t,r)=>{"use strict";r.d(t,{V:()=>i});var s=r(5311);class i{constructor(e,t){this.table=e,this.config=t,this.name=t.name,this.keyAsName=t.keyAsName,this.notNull=t.notNull,this.default=t.default,this.defaultFn=t.defaultFn,this.onUpdateFn=t.onUpdateFn,this.hasDefault=t.hasDefault,this.primary=t.primaryKey,this.isUnique=t.isUnique,this.uniqueName=t.uniqueName,this.uniqueType=t.uniqueType,this.dataType=t.dataType,this.columnType=t.columnType,this.generated=t.generated,this.generatedIdentity=t.generatedIdentity}static [s.i]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return void 0!==this.config.generated&&"byDefault"!==this.config.generated.type}}},5311:(e,t,r)=>{"use strict";r.d(t,{i:()=>s,is:()=>i});let s=Symbol.for("drizzle:entityKind");function i(e,t){if(!e||"object"!=typeof e)return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,s))throw Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(e).constructor;if(r)for(;r;){if(s in r&&r[s]===t[s])return!0;r=Object.getPrototypeOf(r)}return!1}Symbol.for("drizzle:hasOwnEntityKind")},5558:(e,t,r)=>{"use strict";r.d(t,{f:()=>eE});var s=r(4211),i=r(9393),n=r(5311);class o{static [n.i]="ConsoleLogWriter";write(e){console.log(e)}}class a{static [n.i]="DefaultLogger";writer;constructor(e){this.writer=e?.writer??new o}logQuery(e,t){let r=t.map(e=>{try{return JSON.stringify(e)}catch{return String(e)}}),s=r.length?` -- params: [${r.join(", ")}]`:"";this.writer.write(`Query: ${e}${s}`)}}class l{static [n.i]="NoopLogger";logQuery(){}}var u=r(4548),c=r(5178);let h=Symbol.for("drizzle:PgInlineForeignKeys"),d=Symbol.for("drizzle:EnableRLS");class f extends u.XI{static [n.i]="PgTable";static Symbol=Object.assign({},u.XI.Symbol,{InlineForeignKeys:h,EnableRLS:d});[h]=[];[d]=!1;[u.XI.Symbol.ExtraConfigBuilder]=void 0;[u.XI.Symbol.ExtraConfigColumns]={}}class p{static [n.i]="PgPrimaryKeyBuilder";columns;name;constructor(e,t){this.columns=e,this.name=t}build(e){return new m(e,this.columns,this.name)}}class m{constructor(e,t,r){this.table=e,this.columns=t,this.name=r}static [n.i]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[f.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}var y=r(255),g=r(9681);function b(e){return(0,g.ll)`${e} asc`}function w(e){return(0,g.ll)`${e} desc`}class v{constructor(e,t,r){this.sourceTable=e,this.referencedTable=t,this.relationName=r,this.referencedTableName=t[u.XI.Symbol.Name]}static [n.i]="Relation";referencedTableName;fieldName}class S{constructor(e,t){this.table=e,this.config=t}static [n.i]="Relations"}class x extends v{constructor(e,t,r,s){super(e,t,r?.relationName),this.config=r,this.isNullable=s}static [n.i]="One";withFieldName(e){let t=new x(this.sourceTable,this.referencedTable,this.config,this.isNullable);return t.fieldName=e,t}}class q extends v{constructor(e,t,r){super(e,t,r?.relationName),this.config=r}static [n.i]="Many";withFieldName(e){let t=new q(this.sourceTable,this.referencedTable,this.config);return t.fieldName=e,t}}function _(e){return{one:function(t,r){return new x(e,t,r,r?.fields.reduce((e,t)=>e&&t.notNull,!0)??!1)},many:function(t,r){return new q(e,t,r)}}}var C=r(6309);class k{constructor(e){this.table=e}static [n.i]="ColumnAliasProxyHandler";get(e,t){return"table"===t?this.table:e[t]}}class I{constructor(e,t){this.alias=e,this.replaceOriginalName=t}static [n.i]="TableAliasProxyHandler";get(e,t){if(t===u.XI.Symbol.IsAlias)return!0;if(t===u.XI.Symbol.Name||this.replaceOriginalName&&t===u.XI.Symbol.OriginalName)return this.alias;if(t===C.n)return{...e[C.n],name:this.alias,isAlias:!0};if(t===u.XI.Symbol.Columns){let t=e[u.XI.Symbol.Columns];if(!t)return t;let r={};return Object.keys(t).map(s=>{r[s]=new Proxy(t[s],new k(new Proxy(e,this)))}),r}let r=e[t];return(0,n.is)(r,c.V)?new Proxy(r,new k(new Proxy(e,this))):r}}class A{constructor(e){this.alias=e}static [n.i]=null;get(e,t){return"sourceTable"===t?T(e.sourceTable,this.alias):e[t]}}function T(e,t){return new Proxy(e,new I(t,!1))}function R(e,t){return new Proxy(e,new k(new Proxy(e.table,new I(t,!1))))}function L(e,t){return new g.Xs.Aliased(N(e.sql,t),e.fieldAlias)}function N(e,t){return g.ll.join(e.queryChunks.map(e=>(0,n.is)(e,c.V)?R(e,t):(0,n.is)(e,g.Xs)?N(e,t):(0,n.is)(e,g.Xs.Aliased)?L(e,t):e))}var E=r(7734);class ${static [n.i]="SelectionProxyHandler";config;constructor(e){this.config={...e}}get(e,t){if("_"===t)return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(t===C.n)return{...e[C.n],selectedFields:new Proxy(e[C.n].selectedFields,this)};if("symbol"==typeof t)return e[t];let r=((0,n.is)(e,E.n)?e._.selectedFields:(0,n.is)(e,g.Ss)?e[C.n].selectedFields:e)[t];if((0,n.is)(r,g.Xs.Aliased)){if("sql"===this.config.sqlAliasedBehavior&&!r.isSelectionField)return r.sql;let e=r.clone();return e.isSelectionField=!0,e}if((0,n.is)(r,g.Xs)){if("sql"===this.config.sqlBehavior)return r;throw Error(`You tried to reference "${t}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return(0,n.is)(r,c.V)?this.config.alias?new Proxy(r,new k(new Proxy(r.table,new I(this.config.alias,this.config.replaceOriginalName??!1)))):r:"object"!=typeof r||null===r?r:new Proxy(r,new $(this.config))}}function O(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(e=>e.toLowerCase()).join("_")}function j(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((e,t,r)=>e+(0===r?t.toLowerCase():`${t[0].toUpperCase()}${t.slice(1)}`),"")}function Q(e){return e}class B{static [n.i]="CasingCache";cache={};cachedTables={};convert;constructor(e){this.convert="snake_case"===e?O:"camelCase"===e?j:Q}getColumnCasing(e){if(!e.keyAsName)return e.name;let t=e.table[u.XI.Symbol.Schema]??"public",r=e.table[u.XI.Symbol.OriginalName],s=`${t}.${r}.${e.name}`;return this.cache[s]||this.cacheTable(e.table),this.cache[s]}cacheTable(e){let t=e[u.XI.Symbol.Schema]??"public",r=e[u.XI.Symbol.OriginalName],s=`${t}.${r}`;if(!this.cachedTables[s]){for(let t of Object.values(e[u.XI.Symbol.Columns])){let e=`${s}.${t.name}`;this.cache[e]=this.convert(t.name)}this.cachedTables[s]=!0}}clearCache(){this.cache={},this.cachedTables={}}}class P extends Error{static [n.i]="DrizzleError";constructor({message:e,cause:t}){super(e),this.name="DrizzleError",this.cause=t}}class U extends Error{constructor(e,t,r){super(`Failed query: ${e}
params: ${t}`),this.query=e,this.params=t,this.cause=r,Error.captureStackTrace(this,U),r&&(this.cause=r)}}class M extends P{static [n.i]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}var D=r(2109),z=r(8464);class F extends g.Ss{static [n.i]="SQLiteViewBase"}class V{static [n.i]="SQLiteDialect";casing;constructor(e){this.casing=new B(e?.casing)}escapeName(e){return`"${e}"`}escapeParam(e){return"?"}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!e?.length)return;let t=[(0,g.ll)`with `];for(let[r,s]of e.entries())t.push((0,g.ll)`${g.ll.identifier(s._.alias)} as (${s._.sql})`),r<e.length-1&&t.push((0,g.ll)`, `);return t.push((0,g.ll)` `),g.ll.join(t)}buildDeleteQuery({table:e,where:t,returning:r,withList:s,limit:i,orderBy:n}){let o=this.buildWithCTE(s),a=r?(0,g.ll)` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,l=t?(0,g.ll)` where ${t}`:void 0,u=this.buildOrderBy(n),c=this.buildLimit(i);return(0,g.ll)`${o}delete from ${e}${l}${a}${u}${c}`}buildUpdateSet(e,t){let r=e[u.XI.Symbol.Columns],s=Object.keys(r).filter(e=>void 0!==t[e]||r[e]?.onUpdateFn!==void 0),i=s.length;return g.ll.join(s.flatMap((e,s)=>{let n=r[e],o=t[e]??g.ll.param(n.onUpdateFn(),n),a=(0,g.ll)`${g.ll.identifier(this.casing.getColumnCasing(n))} = ${o}`;return s<i-1?[a,g.ll.raw(", ")]:[a]}))}buildUpdateQuery({table:e,set:t,where:r,returning:s,withList:i,joins:n,from:o,limit:a,orderBy:l}){let u=this.buildWithCTE(i),c=this.buildUpdateSet(e,t),h=o&&g.ll.join([g.ll.raw(" from "),this.buildFromTable(o)]),d=this.buildJoins(n),f=s?(0,g.ll)` returning ${this.buildSelection(s,{isSingleTable:!0})}`:void 0,p=r?(0,g.ll)` where ${r}`:void 0,m=this.buildOrderBy(l),y=this.buildLimit(a);return(0,g.ll)`${u}update ${e} set ${c}${h}${d}${p}${f}${m}${y}`}buildSelection(e,{isSingleTable:t=!1}={}){let r=e.length,s=e.flatMap(({field:e},s)=>{let i=[];if((0,n.is)(e,g.Xs.Aliased)&&e.isSelectionField)i.push(g.ll.identifier(e.fieldAlias));else if((0,n.is)(e,g.Xs.Aliased)||(0,n.is)(e,g.Xs)){let r=(0,n.is)(e,g.Xs.Aliased)?e.sql:e;t?i.push(new g.Xs(r.queryChunks.map(e=>(0,n.is)(e,c.V)?g.ll.identifier(this.casing.getColumnCasing(e)):e))):i.push(r),(0,n.is)(e,g.Xs.Aliased)&&i.push((0,g.ll)` as ${g.ll.identifier(e.fieldAlias)}`)}else if((0,n.is)(e,c.V)){let r=e.table[u.XI.Symbol.Name];"SQLiteNumericBigInt"===e.columnType?t?i.push((0,g.ll)`cast(${g.ll.identifier(this.casing.getColumnCasing(e))} as text)`):i.push((0,g.ll)`cast(${g.ll.identifier(r)}.${g.ll.identifier(this.casing.getColumnCasing(e))} as text)`):t?i.push(g.ll.identifier(this.casing.getColumnCasing(e))):i.push((0,g.ll)`${g.ll.identifier(r)}.${g.ll.identifier(this.casing.getColumnCasing(e))}`)}return s<r-1&&i.push((0,g.ll)`, `),i});return g.ll.join(s)}buildJoins(e){if(!e||0===e.length)return;let t=[];if(e)for(let[r,s]of e.entries()){0===r&&t.push((0,g.ll)` `);let i=s.table,o=s.on?(0,g.ll)` on ${s.on}`:void 0;if((0,n.is)(i,z.jo)){let e=i[z.jo.Symbol.Name],r=i[z.jo.Symbol.Schema],n=i[z.jo.Symbol.OriginalName],a=e===n?void 0:s.alias;t.push((0,g.ll)`${g.ll.raw(s.joinType)} join ${r?(0,g.ll)`${g.ll.identifier(r)}.`:void 0}${g.ll.identifier(n)}${a&&(0,g.ll)` ${g.ll.identifier(a)}`}${o}`)}else t.push((0,g.ll)`${g.ll.raw(s.joinType)} join ${i}${o}`);r<e.length-1&&t.push((0,g.ll)` `)}return g.ll.join(t)}buildLimit(e){return"object"==typeof e||"number"==typeof e&&e>=0?(0,g.ll)` limit ${e}`:void 0}buildOrderBy(e){let t=[];if(e)for(let[r,s]of e.entries())t.push(s),r<e.length-1&&t.push((0,g.ll)`, `);return t.length>0?(0,g.ll)` order by ${g.ll.join(t)}`:void 0}buildFromTable(e){return(0,n.is)(e,u.XI)&&e[u.XI.Symbol.IsAlias]?(0,g.ll)`${(0,g.ll)`${g.ll.identifier(e[u.XI.Symbol.Schema]??"")}.`.if(e[u.XI.Symbol.Schema])}${g.ll.identifier(e[u.XI.Symbol.OriginalName])} ${g.ll.identifier(e[u.XI.Symbol.Name])}`:e}buildSelectQuery({withList:e,fields:t,fieldsFlat:r,where:s,having:o,table:a,joins:l,orderBy:h,groupBy:d,limit:f,offset:p,distinct:m,setOperators:y}){let b=r??(0,i.He)(t);for(let e of b){let t;if((0,n.is)(e.field,c.V)&&(0,u.Io)(e.field.table)!==((0,n.is)(a,E.n)?a._.alias:(0,n.is)(a,F)?a[C.n].name:(0,n.is)(a,g.Xs)?void 0:(0,u.Io)(a))&&(t=e.field.table,!l?.some(({alias:e})=>e===(t[u.XI.Symbol.IsAlias]?u.Io(t):t[u.XI.Symbol.BaseName])))){let t=(0,u.Io)(e.field.table);throw Error(`Your "${e.path.join("->")}" field references a column "${t}"."${e.field.name}", but the table "${t}" is not part of the query! Did you forget to join it?`)}}let w=!l||0===l.length,v=this.buildWithCTE(e),S=m?(0,g.ll)` distinct`:void 0,x=this.buildSelection(b,{isSingleTable:w}),q=this.buildFromTable(a),_=this.buildJoins(l),k=s?(0,g.ll)` where ${s}`:void 0,I=o?(0,g.ll)` having ${o}`:void 0,A=[];if(d)for(let[e,t]of d.entries())A.push(t),e<d.length-1&&A.push((0,g.ll)`, `);let T=A.length>0?(0,g.ll)` group by ${g.ll.join(A)}`:void 0,R=this.buildOrderBy(h),L=this.buildLimit(f),N=p?(0,g.ll)` offset ${p}`:void 0,$=(0,g.ll)`${v}select${S} ${x} from ${q}${_}${k}${T}${I}${R}${L}${N}`;return y.length>0?this.buildSetOperations($,y):$}buildSetOperations(e,t){let[r,...s]=t;if(!r)throw Error("Cannot pass undefined values to any set operator");return 0===s.length?this.buildSetOperationQuery({leftSelect:e,setOperator:r}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:r}),s)}buildSetOperationQuery({leftSelect:e,setOperator:{type:t,isAll:r,rightSelect:s,limit:i,orderBy:o,offset:a}}){let l;let u=(0,g.ll)`${e.getSQL()} `,c=(0,g.ll)`${s.getSQL()}`;if(o&&o.length>0){let e=[];for(let t of o)if((0,n.is)(t,D.v))e.push(g.ll.identifier(t.name));else if((0,n.is)(t,g.Xs)){for(let e=0;e<t.queryChunks.length;e++){let r=t.queryChunks[e];(0,n.is)(r,D.v)&&(t.queryChunks[e]=g.ll.identifier(this.casing.getColumnCasing(r)))}e.push((0,g.ll)`${t}`)}else e.push((0,g.ll)`${t}`);l=(0,g.ll)` order by ${g.ll.join(e,(0,g.ll)`, `)}`}let h="object"==typeof i||"number"==typeof i&&i>=0?(0,g.ll)` limit ${i}`:void 0,d=g.ll.raw(`${t} ${r?"all ":""}`),f=a?(0,g.ll)` offset ${a}`:void 0;return(0,g.ll)`${u}${d}${c}${l}${h}${f}`}buildInsertQuery({table:e,values:t,onConflict:r,returning:s,withList:i,select:o}){let a=[],l=Object.entries(e[u.XI.Symbol.Columns]).filter(([e,t])=>!t.shouldDisableInsert()),c=l.map(([,e])=>g.ll.identifier(this.casing.getColumnCasing(e)));if(o)(0,n.is)(t,g.Xs)?a.push(t):a.push(t.getSQL());else for(let[e,r]of(a.push(g.ll.raw("values ")),t.entries())){let s=[];for(let[e,t]of l){let i=r[e];if(void 0===i||(0,n.is)(i,g.Iw)&&void 0===i.value){let e;if(null!==t.default&&void 0!==t.default)e=(0,n.is)(t.default,g.Xs)?t.default:g.ll.param(t.default,t);else if(void 0!==t.defaultFn){let r=t.defaultFn();e=(0,n.is)(r,g.Xs)?r:g.ll.param(r,t)}else if(t.default||void 0===t.onUpdateFn)e=(0,g.ll)`null`;else{let r=t.onUpdateFn();e=(0,n.is)(r,g.Xs)?r:g.ll.param(r,t)}s.push(e)}else s.push(i)}a.push(s),e<t.length-1&&a.push((0,g.ll)`, `)}let h=this.buildWithCTE(i),d=g.ll.join(a),f=s?(0,g.ll)` returning ${this.buildSelection(s,{isSingleTable:!0})}`:void 0,p=r?.length?g.ll.join(r):void 0;return(0,g.ll)`${h}insert into ${e} ${c} ${d}${p}${f}`}sqlToQuery(e,t){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,invokeSource:t})}buildRelationalQuery({fullSchema:e,schema:t,tableNamesMap:r,table:s,tableConfig:i,queryConfig:o,tableAlias:a,nestedQueryRelation:l,joinOn:h}){let d,f=[],p,m,v=[],S,_=[];if(!0===o)f=Object.entries(i.columns).map(([e,t])=>({dbKey:t.name,tsKey:e,field:R(t,a),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let s=Object.fromEntries(Object.entries(i.columns).map(([e,t])=>[e,R(t,a)]));if(o.where){let e="function"==typeof o.where?o.where(s,{and:y.Uo,between:y.Tq,eq:y.eq,exists:y.t2,gt:y.gt,gte:y.RO,ilike:y.B3,inArray:y.RV,isNull:y.kZ,isNotNull:y.Pe,like:y.mj,lt:y.lt,lte:y.wJ,ne:y.ne,not:y.AU,notBetween:y.o8,notExists:y.KJ,notLike:y.RK,notIlike:y.q1,notInArray:y.KL,or:y.or,sql:g.ll}):o.where;S=e&&N(e,a)}let l=[],h=[];if(o.columns){let e=!1;for(let[t,r]of Object.entries(o.columns))void 0!==r&&t in i.columns&&(e||!0!==r||(e=!0),h.push(t));h.length>0&&(h=e?h.filter(e=>o.columns?.[e]===!0):Object.keys(i.columns).filter(e=>!h.includes(e)))}else h=Object.keys(i.columns);for(let e of h){let t=i.columns[e];l.push({tsKey:e,value:t})}let d=[];if(o.with&&(d=Object.entries(o.with).filter(e=>!!e[1]).map(([e,t])=>({tsKey:e,queryConfig:t,relation:i.relations[e]}))),o.extras)for(let[e,t]of Object.entries("function"==typeof o.extras?o.extras(s,{sql:g.ll}):o.extras))l.push({tsKey:e,value:L(t,a)});for(let{tsKey:e,value:t}of l)f.push({dbKey:(0,n.is)(t,g.Xs.Aliased)?t.fieldAlias:i.columns[e].name,tsKey:e,field:(0,n.is)(t,c.V)?R(t,a):t,relationTableTsKey:void 0,isJson:!1,selection:[]});let q="function"==typeof o.orderBy?o.orderBy(s,{sql:g.ll,asc:b,desc:w}):o.orderBy??[];for(let{tsKey:s,queryConfig:i,relation:l}of(Array.isArray(q)||(q=[q]),v=q.map(e=>(0,n.is)(e,c.V)?R(e,a):N(e,a)),p=o.limit,m=o.offset,d)){let o=function(e,t,r){if((0,n.is)(r,x)&&r.config)return{fields:r.config.fields,references:r.config.references};let s=t[(0,u.Lf)(r.referencedTable)];if(!s)throw Error(`Table "${r.referencedTable[u.XI.Symbol.Name]}" not found in schema`);let i=e[s];if(!i)throw Error(`Table "${s}" not found in schema`);let o=r.sourceTable,a=t[(0,u.Lf)(o)];if(!a)throw Error(`Table "${o[u.XI.Symbol.Name]}" not found in schema`);let l=[];for(let e of Object.values(i.relations))(r.relationName&&r!==e&&e.relationName===r.relationName||!r.relationName&&e.referencedTable===r.sourceTable)&&l.push(e);if(l.length>1)throw r.relationName?Error(`There are multiple relations with name "${r.relationName}" in table "${s}"`):Error(`There are multiple relations between "${s}" and "${r.sourceTable[u.XI.Symbol.Name]}". Please specify relation name`);if(l[0]&&(0,n.is)(l[0],x)&&l[0].config)return{fields:l[0].config.references,references:l[0].config.fields};throw Error(`There is not enough information to infer relation "${a}.${r.fieldName}"`)}(t,r,l),c=r[(0,u.Lf)(l.referencedTable)],h=`${a}_${s}`,d=(0,y.Uo)(...o.fields.map((e,t)=>(0,y.eq)(R(o.references[t],h),R(e,a)))),p=this.buildRelationalQuery({fullSchema:e,schema:t,tableNamesMap:r,table:e[c],tableConfig:t[c],queryConfig:(0,n.is)(l,x)?!0===i?{limit:1}:{...i,limit:1}:i,tableAlias:h,joinOn:d,nestedQueryRelation:l}),m=(0,g.ll)`(${p.sql})`.as(s);f.push({dbKey:s,tsKey:s,field:m,relationTableTsKey:c,isJson:!0,selection:p.selection})}}if(0===f.length)throw new P({message:`No fields selected for table "${i.tsName}" ("${a}"). You need to have at least one item in "columns", "with" or "extras". If you need to select all columns, omit the "columns" key or set it to undefined.`});if(S=(0,y.Uo)(h,S),l){let e=(0,g.ll)`json_array(${g.ll.join(f.map(({field:e})=>(0,n.is)(e,D.v)?g.ll.identifier(this.casing.getColumnCasing(e)):(0,n.is)(e,g.Xs.Aliased)?e.sql:e),(0,g.ll)`, `)})`;(0,n.is)(l,q)&&(e=(0,g.ll)`coalesce(json_group_array(${e}), json_array())`);let t=[{dbKey:"data",tsKey:"data",field:e.as("data"),isJson:!0,relationTableTsKey:i.tsName,selection:f}];void 0!==p||void 0!==m||v.length>0?(d=this.buildSelectQuery({table:T(s,a),fields:{},fieldsFlat:[{path:[],field:g.ll.raw("*")}],where:S,limit:p,offset:m,orderBy:v,setOperators:[]}),S=void 0,p=void 0,m=void 0,v=void 0):d=T(s,a),d=this.buildSelectQuery({table:(0,n.is)(d,z.jo)?d:new E.n(d,{},a),fields:{},fieldsFlat:t.map(({field:e})=>({path:[],field:(0,n.is)(e,c.V)?R(e,a):e})),joins:_,where:S,limit:p,offset:m,orderBy:v,setOperators:[]})}else d=this.buildSelectQuery({table:T(s,a),fields:{},fieldsFlat:f.map(({field:e})=>({path:[],field:(0,n.is)(e,c.V)?R(e,a):e})),joins:_,where:S,limit:p,offset:m,orderBy:v,setOperators:[]});return{tableTsKey:i.tsName,sql:d,selection:f}}}class X extends V{static [n.i]="SQLiteSyncDialect";migrate(e,t,r){let s=void 0===r?"__drizzle_migrations":"string"==typeof r?"__drizzle_migrations":r.migrationsTable??"__drizzle_migrations",i=(0,g.ll)`
			CREATE TABLE IF NOT EXISTS ${g.ll.identifier(s)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;t.run(i);let n=t.values((0,g.ll)`SELECT id, hash, created_at FROM ${g.ll.identifier(s)} ORDER BY created_at DESC LIMIT 1`)[0]??void 0;t.run((0,g.ll)`BEGIN`);try{for(let r of e)if(!n||Number(n[2])<r.folderMillis){for(let e of r.sql)t.run(g.ll.raw(e));t.run((0,g.ll)`INSERT INTO ${g.ll.identifier(s)} ("hash", "created_at") VALUES(${r.hash}, ${r.folderMillis})`)}t.run((0,g.ll)`COMMIT`)}catch(e){throw t.run((0,g.ll)`ROLLBACK`),e}}}class J extends V{static [n.i]="SQLiteAsyncDialect";async migrate(e,t,r){let s=void 0===r?"__drizzle_migrations":"string"==typeof r?"__drizzle_migrations":r.migrationsTable??"__drizzle_migrations",i=(0,g.ll)`
			CREATE TABLE IF NOT EXISTS ${g.ll.identifier(s)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;await t.run(i);let n=(await t.values((0,g.ll)`SELECT id, hash, created_at FROM ${g.ll.identifier(s)} ORDER BY created_at DESC LIMIT 1`))[0]??void 0;await t.transaction(async t=>{for(let r of e)if(!n||Number(n[2])<r.folderMillis){for(let e of r.sql)await t.run(g.ll.raw(e));await t.run((0,g.ll)`INSERT INTO ${g.ll.identifier(s)} ("hash", "created_at") VALUES(${r.hash}, ${r.folderMillis})`)}})}}class K{static [n.i]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}class W{static [n.i]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(e){return this.then(void 0,e)}finally(e){return this.then(t=>(e?.(),t),t=>{throw e?.(),t})}then(e,t){return this.execute().then(e,t)}}function G(e){return(0,n.is)(e,z.jo)?[`${e[u.XI.Symbol.BaseName]}`]:(0,n.is)(e,E.n)?e._.usedTables??[]:(0,n.is)(e,g.Xs)?e.usedTables??[]:[]}class H{static [n.i]="SQLiteSelectBuilder";fields;session;dialect;withList;distinct;constructor(e){this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,this.withList=e.withList,this.distinct=e.distinct}from(e){let t;let r=!!this.fields;return t=this.fields?this.fields:(0,n.is)(e,E.n)?Object.fromEntries(Object.keys(e._.selectedFields).map(t=>[t,e[t]])):(0,n.is)(e,F)?e[C.n].selectedFields:(0,n.is)(e,g.Xs)?{}:(0,i.YD)(e),new Z({table:e,fields:t,isPartialSelect:r,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct})}}class Y extends K{static [n.i]="SQLiteSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;cacheConfig=void 0;usedTables=new Set;constructor({table:e,fields:t,isPartialSelect:r,session:s,dialect:n,withList:o,distinct:a}){for(let l of(super(),this.config={withList:o,table:e,fields:{...t},distinct:a,setOperators:[]},this.isPartialSelect=r,this.session=s,this.dialect=n,this._={selectedFields:t,config:this.config},this.tableName=(0,i.zN)(e),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{},G(e)))this.usedTables.add(l)}getUsedTables(){return[...this.usedTables]}createJoin(e){return(t,r)=>{let s=this.tableName,o=(0,i.zN)(t);for(let e of G(t))this.usedTables.add(e);if("string"==typeof o&&this.config.joins?.some(e=>e.alias===o))throw Error(`Alias "${o}" is already used in this query`);if(!this.isPartialSelect&&(1===Object.keys(this.joinsNotNullableMap).length&&"string"==typeof s&&(this.config.fields={[s]:this.config.fields}),"string"==typeof o&&!(0,n.is)(t,g.Xs))){let e=(0,n.is)(t,E.n)?t._.selectedFields:(0,n.is)(t,g.Ss)?t[C.n].selectedFields:t[u.XI.Symbol.Columns];this.config.fields[o]=e}if("function"==typeof r&&(r=r(new Proxy(this.config.fields,new $({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:r,table:t,joinType:e,alias:o}),"string"==typeof o)switch(e){case"left":this.joinsNotNullableMap[o]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[o]=!0;break;case"cross":case"inner":this.joinsNotNullableMap[o]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[o]=!1}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");crossJoin=this.createJoin("cross");createSetOperator(e,t){return r=>{let s="function"==typeof r?r(et()):r;if(!(0,i.DV)(this.getSelectedFields(),s.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:e,isAll:t,rightSelect:s}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);except=this.createSetOperator("except",!1);addSetOperators(e){return this.config.setOperators.push(...e),this}where(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new $({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=e,this}having(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new $({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=e,this}groupBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new $({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(t)?t:[t]}else this.config.groupBy=e;return this}orderBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new $({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),r=Array.isArray(t)?t:[t];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=r:this.config.orderBy=r}else this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=e:this.config.orderBy=e;return this}limit(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=e:this.config.limit=e,this}offset(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=e:this.config.offset=e,this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}as(e){let t=[];if(t.push(...G(this.config.table)),this.config.joins)for(let e of this.config.joins)t.push(...G(e.table));return new Proxy(new E.n(this.getSQL(),this.config.fields,e,!1,[...new Set(t)]),new $({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new $({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}}class Z extends Y{static [n.i]="SQLiteSelect";_prepare(e=!0){if(!this.session)throw Error("Cannot execute a query on a query builder. Please use a database instance instead.");let t=(0,i.He)(this.config.fields),r=this.session[e?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),t,"all",!0,void 0,{type:"select",tables:[...this.usedTables]},this.cacheConfig);return r.joinsNotNullableMap=this.joinsNotNullableMap,r}$withCache(e){return this.cacheConfig=void 0===e?{config:{},enable:!0,autoInvalidate:!0}:!1===e?{enable:!1}:{enable:!0,autoInvalidate:!0,...e},this}prepare(){return this._prepare(!1)}run=e=>this._prepare().run(e);all=e=>this._prepare().all(e);get=e=>this._prepare().get(e);values=e=>this._prepare().values(e);async execute(){return this.all()}}function ee(e,t){return(r,s,...n)=>{let o=[s,...n].map(r=>({type:e,isAll:t,rightSelect:r}));for(let e of o)if(!(0,i.DV)(r.getSelectedFields(),e.rightSelect.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return r.addSetOperators(o)}}(0,i.XJ)(Z,[W]);let et=()=>({union:er,unionAll:es,intersect:ei,except:en}),er=ee("union",!1),es=ee("union",!0),ei=ee("intersect",!1),en=ee("except",!1);class eo{static [n.i]="SQLiteQueryBuilder";dialect;dialectConfig;constructor(e){this.dialect=(0,n.is)(e,V)?e:void 0,this.dialectConfig=(0,n.is)(e,V)?void 0:e}$with=(e,t)=>{let r=this;return{as:s=>("function"==typeof s&&(s=s(r)),new Proxy(new E.J(s.getSQL(),t??("getSelectedFields"in s?s.getSelectedFields()??{}:{}),e,!0),new $({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};with(...e){let t=this;return{select:function(r){return new H({fields:r??void 0,session:void 0,dialect:t.getDialect(),withList:e})},selectDistinct:function(r){return new H({fields:r??void 0,session:void 0,dialect:t.getDialect(),withList:e,distinct:!0})}}}select(e){return new H({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new H({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}getDialect(){return this.dialect||(this.dialect=new X(this.dialectConfig)),this.dialect}}class ea{constructor(e,t,r,s){this.table=e,this.session=t,this.dialect=r,this.withList=s}static [n.i]="SQLiteUpdateBuilder";set(e){return new el(this.table,(0,i.q)(this.table,e),this.session,this.dialect,this.withList)}}class el extends W{constructor(e,t,r,s,i){super(),this.session=r,this.dialect=s,this.config={set:t,table:e,withList:i,joins:[]}}static [n.i]="SQLiteUpdate";config;from(e){return this.config.from=e,this}createJoin(e){return(t,r)=>{let s=(0,i.zN)(t);if("string"==typeof s&&this.config.joins.some(e=>e.alias===s))throw Error(`Alias "${s}" is already used in this query`);if("function"==typeof r){let e=this.config.from?(0,n.is)(t,z.jo)?t[u.XI.Symbol.Columns]:(0,n.is)(t,E.n)?t._.selectedFields:(0,n.is)(t,F)?t[C.n].selectedFields:void 0:void 0;r=r(new Proxy(this.config.table[u.XI.Symbol.Columns],new $({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),e&&new Proxy(e,new $({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}return this.config.joins.push({on:r,table:t,joinType:e,alias:s}),this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(e){return this.config.where=e,this}orderBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.table[u.XI.Symbol.Columns],new $({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),r=Array.isArray(t)?t:[t];this.config.orderBy=r}else this.config.orderBy=e;return this}limit(e){return this.config.limit=e,this}returning(e=this.config.table[z.jo.Symbol.Columns]){return this.config.returning=(0,i.He)(e),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e=!0){return this.session[e?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"insert",tables:G(this.config.table)})}prepare(){return this._prepare(!1)}run=e=>this._prepare().run(e);all=e=>this._prepare().all(e);get=e=>this._prepare().get(e);values=e=>this._prepare().values(e);async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}}class eu{constructor(e,t,r,s){this.table=e,this.session=t,this.dialect=r,this.withList=s}static [n.i]="SQLiteInsertBuilder";values(e){if(0===(e=Array.isArray(e)?e:[e]).length)throw Error("values() must be called with at least one value");let t=e.map(e=>{let t={},r=this.table[u.XI.Symbol.Columns];for(let s of Object.keys(e)){let i=e[s];t[s]=(0,n.is)(i,g.Xs)?i:new g.Iw(i,r[s])}return t});return new ec(this.table,t,this.session,this.dialect,this.withList)}select(e){let t="function"==typeof e?e(new eo):e;if(!(0,n.is)(t,g.Xs)&&!(0,i.DV)(this.table[u.e],t._.selectedFields))throw Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new ec(this.table,t,this.session,this.dialect,this.withList,!0)}}class ec extends W{constructor(e,t,r,s,i,n){super(),this.session=r,this.dialect=s,this.config={table:e,values:t,withList:i,select:n}}static [n.i]="SQLiteInsert";config;returning(e=this.config.table[z.jo.Symbol.Columns]){return this.config.returning=(0,i.He)(e),this}onConflictDoNothing(e={}){if(this.config.onConflict||(this.config.onConflict=[]),void 0===e.target)this.config.onConflict.push((0,g.ll)` on conflict do nothing`);else{let t=Array.isArray(e.target)?(0,g.ll)`${e.target}`:(0,g.ll)`${[e.target]}`,r=e.where?(0,g.ll)` where ${e.where}`:(0,g.ll)``;this.config.onConflict.push((0,g.ll)` on conflict ${t} do nothing${r}`)}return this}onConflictDoUpdate(e){if(e.where&&(e.targetWhere||e.setWhere))throw Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');this.config.onConflict||(this.config.onConflict=[]);let t=e.where?(0,g.ll)` where ${e.where}`:void 0,r=e.targetWhere?(0,g.ll)` where ${e.targetWhere}`:void 0,s=e.setWhere?(0,g.ll)` where ${e.setWhere}`:void 0,n=Array.isArray(e.target)?(0,g.ll)`${e.target}`:(0,g.ll)`${[e.target]}`,o=this.dialect.buildUpdateSet(this.config.table,(0,i.q)(this.config.table,e.set));return this.config.onConflict.push((0,g.ll)` on conflict ${n}${r} do update set ${o}${t}${s}`),this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e=!0){return this.session[e?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"insert",tables:G(this.config.table)})}prepare(){return this._prepare(!1)}run=e=>this._prepare().run(e);all=e=>this._prepare().all(e);get=e=>this._prepare().get(e);values=e=>this._prepare().values(e);async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}}class eh extends W{constructor(e,t,r,s){super(),this.table=e,this.session=t,this.dialect=r,this.config={table:e,withList:s}}static [n.i]="SQLiteDelete";config;where(e){return this.config.where=e,this}orderBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.table[u.XI.Symbol.Columns],new $({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),r=Array.isArray(t)?t:[t];this.config.orderBy=r}else this.config.orderBy=e;return this}limit(e){return this.config.limit=e,this}returning(e=this.table[z.jo.Symbol.Columns]){return this.config.returning=(0,i.He)(e),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e=!0){return this.session[e?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"delete",tables:G(this.config.table)})}prepare(){return this._prepare(!1)}run=e=>this._prepare().run(e);all=e=>this._prepare().all(e);get=e=>this._prepare().get(e);values=e=>this._prepare().values(e);async execute(e){return this._prepare().execute(e)}$dynamic(){return this}}class ed extends g.Xs{constructor(e){super(ed.buildEmbeddedCount(e.source,e.filters).queryChunks),this.params=e,this.session=e.session,this.sql=ed.buildCount(e.source,e.filters)}sql;static [n.i]="SQLiteCountBuilderAsync";[Symbol.toStringTag]="SQLiteCountBuilderAsync";session;static buildEmbeddedCount(e,t){return(0,g.ll)`(select count(*) from ${e}${g.ll.raw(" where ").if(t)}${t})`}static buildCount(e,t){return(0,g.ll)`select count(*) from ${e}${g.ll.raw(" where ").if(t)}${t}`}then(e,t){return Promise.resolve(this.session.count(this.sql)).then(e,t)}catch(e){return this.then(void 0,e)}finally(e){return this.then(t=>(e?.(),t),t=>{throw e?.(),t})}}class ef{constructor(e,t,r,s,i,n,o,a){this.mode=e,this.fullSchema=t,this.schema=r,this.tableNamesMap=s,this.table=i,this.tableConfig=n,this.dialect=o,this.session=a}static [n.i]="SQLiteAsyncRelationalQueryBuilder";findMany(e){return"sync"===this.mode?new em(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many"):new ep(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return"sync"===this.mode?new em(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first"):new ep(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}}class ep extends W{constructor(e,t,r,s,i,n,o,a,l){super(),this.fullSchema=e,this.schema=t,this.tableNamesMap=r,this.table=s,this.tableConfig=i,this.dialect=n,this.session=o,this.config=a,this.mode=l}static [n.i]="SQLiteAsyncRelationalQuery";mode;getSQL(){return this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}).sql}_prepare(e=!1){let{query:t,builtQuery:r}=this._toSQL();return this.session[e?"prepareOneTimeQuery":"prepareQuery"](r,void 0,"first"===this.mode?"get":"all",!0,(e,r)=>{let s=e.map(e=>(function e(t,r,s,i,o=e=>e){let a={};for(let[l,u]of i.entries())if(u.isJson){let i=r.relations[u.tsKey],c=s[l],h="string"==typeof c?JSON.parse(c):c;a[u.tsKey]=(0,n.is)(i,x)?h&&e(t,t[u.relationTableTsKey],h,u.selection,o):h.map(r=>e(t,t[u.relationTableTsKey],r,u.selection,o))}else{let e;let t=o(s[l]),r=u.field;e=(0,n.is)(r,c.V)?r:(0,n.is)(r,g.Xs)?r.decoder:r.sql.decoder,a[u.tsKey]=null===t?null:e.mapFromDriverValue(t)}return a})(this.schema,this.tableConfig,e,t.selection,r));return"first"===this.mode?s[0]:s})}prepare(){return this._prepare(!1)}_toSQL(){let e=this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}),t=this.dialect.sqlToQuery(e.sql);return{query:e,builtQuery:t}}toSQL(){return this._toSQL().builtQuery}executeRaw(){return"first"===this.mode?this._prepare(!1).get():this._prepare(!1).all()}async execute(){return this.executeRaw()}}class em extends ep{static [n.i]="SQLiteSyncRelationalQuery";sync(){return this.executeRaw()}}class ey extends W{constructor(e,t,r,s,i){super(),this.execute=e,this.getSQL=t,this.dialect=s,this.mapBatchResult=i,this.config={action:r}}static [n.i]="SQLiteRaw";config;getQuery(){return{...this.dialect.sqlToQuery(this.getSQL()),method:this.config.action}}mapResult(e,t){return t?this.mapBatchResult(e):e}_prepare(){return this}isResponseInArrayMode(){return!1}}class eg{constructor(e,t,r,s){this.resultKind=e,this.dialect=t,this.session=r,this._=s?{schema:s.schema,fullSchema:s.fullSchema,tableNamesMap:s.tableNamesMap}:{schema:void 0,fullSchema:{},tableNamesMap:{}},this.query={};let i=this.query;if(this._.schema)for(let[n,o]of Object.entries(this._.schema))i[n]=new ef(e,s.fullSchema,this._.schema,this._.tableNamesMap,s.fullSchema[n],o,t,r);this.$cache={invalidate:async e=>{}}}static [n.i]="BaseSQLiteDatabase";query;$with=(e,t)=>{let r=this;return{as:s=>("function"==typeof s&&(s=s(new eo(r.dialect))),new Proxy(new E.J(s.getSQL(),t??("getSelectedFields"in s?s.getSelectedFields()??{}:{}),e,!0),new $({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};$count(e,t){return new ed({source:e,filters:t,session:this.session})}with(...e){let t=this;return{select:function(r){return new H({fields:r??void 0,session:t.session,dialect:t.dialect,withList:e})},selectDistinct:function(r){return new H({fields:r??void 0,session:t.session,dialect:t.dialect,withList:e,distinct:!0})},update:function(r){return new ea(r,t.session,t.dialect,e)},insert:function(r){return new eu(r,t.session,t.dialect,e)},delete:function(r){return new eh(r,t.session,t.dialect,e)}}}select(e){return new H({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new H({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}update(e){return new ea(e,this.session,this.dialect)}$cache;insert(e){return new eu(e,this.session,this.dialect)}delete(e){return new eh(e,this.session,this.dialect)}run(e){let t="string"==typeof e?g.ll.raw(e):e.getSQL();return"async"===this.resultKind?new ey(async()=>this.session.run(t),()=>t,"run",this.dialect,this.session.extractRawRunValueFromBatchResult.bind(this.session)):this.session.run(t)}all(e){let t="string"==typeof e?g.ll.raw(e):e.getSQL();return"async"===this.resultKind?new ey(async()=>this.session.all(t),()=>t,"all",this.dialect,this.session.extractRawAllValueFromBatchResult.bind(this.session)):this.session.all(t)}get(e){let t="string"==typeof e?g.ll.raw(e):e.getSQL();return"async"===this.resultKind?new ey(async()=>this.session.get(t),()=>t,"get",this.dialect,this.session.extractRawGetValueFromBatchResult.bind(this.session)):this.session.get(t)}values(e){let t="string"==typeof e?g.ll.raw(e):e.getSQL();return"async"===this.resultKind?new ey(async()=>this.session.values(t),()=>t,"values",this.dialect,this.session.extractRawValuesValueFromBatchResult.bind(this.session)):this.session.values(t)}transaction(e,t){return this.session.transaction(e,t)}}class eb{static [n.i]="Cache"}class ew extends eb{strategy(){return"all"}static [n.i]="NoopCache";async get(e){}async put(e,t,r,s){}async onMutate(e){}}async function ev(e,t){let r=`${e}-${JSON.stringify(t)}`,s=new TextEncoder().encode(r);return[...new Uint8Array(await crypto.subtle.digest("SHA-256",s))].map(e=>e.toString(16).padStart(2,"0")).join("")}class eS extends W{constructor(e){super(),this.resultCb=e}static [n.i]="ExecuteResultSync";async execute(){return this.resultCb()}sync(){return this.resultCb()}}class ex{constructor(e,t,r,s,i,n){this.mode=e,this.executeMethod=t,this.query=r,this.cache=s,this.queryMetadata=i,this.cacheConfig=n,s&&"all"===s.strategy()&&void 0===n&&(this.cacheConfig={enable:!0,autoInvalidate:!0}),this.cacheConfig?.enable||(this.cacheConfig=void 0)}static [n.i]="PreparedQuery";joinsNotNullableMap;async queryWithCache(e,t,r){if(void 0===this.cache||(0,n.is)(this.cache,ew)||void 0===this.queryMetadata||this.cacheConfig&&!this.cacheConfig.enable)try{return await r()}catch(r){throw new U(e,t,r)}if(("insert"===this.queryMetadata.type||"update"===this.queryMetadata.type||"delete"===this.queryMetadata.type)&&this.queryMetadata.tables.length>0)try{let[e]=await Promise.all([r(),this.cache.onMutate({tables:this.queryMetadata.tables})]);return e}catch(r){throw new U(e,t,r)}if(!this.cacheConfig)try{return await r()}catch(r){throw new U(e,t,r)}if("select"===this.queryMetadata.type){let s=await this.cache.get(this.cacheConfig.tag??await ev(e,t),this.queryMetadata.tables,void 0!==this.cacheConfig.tag,this.cacheConfig.autoInvalidate);if(void 0===s){let s;try{s=await r()}catch(r){throw new U(e,t,r)}return await this.cache.put(this.cacheConfig.tag??await ev(e,t),s,this.cacheConfig.autoInvalidate?this.queryMetadata.tables:[],void 0!==this.cacheConfig.tag,this.cacheConfig.config),s}return s}try{return await r()}catch(r){throw new U(e,t,r)}}getQuery(){return this.query}mapRunResult(e,t){return e}mapAllResult(e,t){throw Error("Not implemented")}mapGetResult(e,t){throw Error("Not implemented")}execute(e){return"async"===this.mode?this[this.executeMethod](e):new eS(()=>this[this.executeMethod](e))}mapResult(e,t){switch(this.executeMethod){case"run":return this.mapRunResult(e,t);case"all":return this.mapAllResult(e,t);case"get":return this.mapGetResult(e,t)}}}class eq{constructor(e){this.dialect=e}static [n.i]="SQLiteSession";prepareOneTimeQuery(e,t,r,s,i,n,o){return this.prepareQuery(e,t,r,s,i,n,o)}run(e){let t=this.dialect.sqlToQuery(e);try{return this.prepareOneTimeQuery(t,void 0,"run",!1).run()}catch(e){throw new P({cause:e,message:`Failed to run the query '${t.sql}'`})}}extractRawRunValueFromBatchResult(e){return e}all(e){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(e),void 0,"run",!1).all()}extractRawAllValueFromBatchResult(e){throw Error("Not implemented")}get(e){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(e),void 0,"run",!1).get()}extractRawGetValueFromBatchResult(e){throw Error("Not implemented")}values(e){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(e),void 0,"run",!1).values()}async count(e){return(await this.values(e))[0][0]}extractRawValuesValueFromBatchResult(e){throw Error("Not implemented")}}class e_ extends eg{constructor(e,t,r,s,i=0){super(e,t,r,s),this.schema=s,this.nestedIndex=i}static [n.i]="SQLiteTransaction";rollback(){throw new M}}var eC=r(5714).Buffer;class ek extends eq{constructor(e,t,r,s,i){super(t),this.client=e,this.schema=r,this.options=s,this.tx=i,this.logger=s.logger??new l,this.cache=s.cache??new ew}static [n.i]="LibSQLSession";logger;cache;prepareQuery(e,t,r,s,i,n,o){return new eA(this.client,e,this.logger,this.cache,n,o,t,this.tx,r,s,i)}async batch(e){let t=[],r=[];for(let s of e){let e=s._prepare(),i=e.getQuery();t.push(e),r.push({sql:i.sql,args:i.params})}return(await this.client.batch(r)).map((e,r)=>t[r].mapResult(e,!0))}async migrate(e){let t=[],r=[];for(let s of e){let e=s._prepare(),i=e.getQuery();t.push(e),r.push({sql:i.sql,args:i.params})}return(await this.client.migrate(r)).map((e,r)=>t[r].mapResult(e,!0))}async transaction(e,t){let r=await this.client.transaction(),s=new ek(this.client,this.dialect,this.schema,this.options,r),i=new eI("async",this.dialect,s,this.schema);try{let t=await e(i);return await r.commit(),t}catch(e){throw await r.rollback(),e}}extractRawAllValueFromBatchResult(e){return e.rows}extractRawGetValueFromBatchResult(e){return e.rows[0]}extractRawValuesValueFromBatchResult(e){return e.rows}}class eI extends e_{static [n.i]="LibSQLTransaction";async transaction(e){let t=`sp${this.nestedIndex}`,r=new eI("async",this.dialect,this.session,this.schema,this.nestedIndex+1);await this.session.run(g.ll.raw(`savepoint ${t}`));try{let s=await e(r);return await this.session.run(g.ll.raw(`release savepoint ${t}`)),s}catch(e){throw await this.session.run(g.ll.raw(`rollback to savepoint ${t}`)),e}}}class eA extends ex{constructor(e,t,r,s,i,n,o,a,l,u,c){super("async",l,t,s,i,n),this.client=e,this.logger=r,this.fields=o,this.tx=a,this._isResponseInArrayMode=u,this.customResultMapper=c,this.customResultMapper=c,this.fields=o}static [n.i]="LibSQLPreparedQuery";async run(e){let t=(0,g.Ct)(this.query.params,e??{});return this.logger.logQuery(this.query.sql,t),await this.queryWithCache(this.query.sql,t,async()=>{let e={sql:this.query.sql,args:t};return this.tx?this.tx.execute(e):this.client.execute(e)})}async all(e){let{fields:t,logger:r,query:s,tx:i,client:n,customResultMapper:o}=this;if(!t&&!o){let t=(0,g.Ct)(s.params,e??{});return r.logQuery(s.sql,t),await this.queryWithCache(s.sql,t,async()=>{let e={sql:s.sql,args:t};return(i?i.execute(e):n.execute(e)).then(({rows:e})=>this.mapAllResult(e))})}let a=await this.values(e);return this.mapAllResult(a)}mapAllResult(e,t){return(t&&(e=e.rows),this.fields||this.customResultMapper)?this.customResultMapper?this.customResultMapper(e,eR):e.map(e=>(0,i.a6)(this.fields,Array.prototype.slice.call(e).map(e=>eR(e)),this.joinsNotNullableMap)):e.map(e=>eT(e))}async get(e){let{fields:t,logger:r,query:s,tx:i,client:n,customResultMapper:o}=this;if(!t&&!o){let t=(0,g.Ct)(s.params,e??{});return r.logQuery(s.sql,t),await this.queryWithCache(s.sql,t,async()=>{let e={sql:s.sql,args:t};return(i?i.execute(e):n.execute(e)).then(({rows:e})=>this.mapGetResult(e))})}let a=await this.values(e);return this.mapGetResult(a)}mapGetResult(e,t){t&&(e=e.rows);let r=e[0];return this.fields||this.customResultMapper?r?this.customResultMapper?this.customResultMapper(e,eR):(0,i.a6)(this.fields,Array.prototype.slice.call(r).map(e=>eR(e)),this.joinsNotNullableMap):void 0:eT(r)}async values(e){let t=(0,g.Ct)(this.query.params,e??{});return this.logger.logQuery(this.query.sql,t),await this.queryWithCache(this.query.sql,t,async()=>{let e={sql:this.query.sql,args:t};return(this.tx?this.tx.execute(e):this.client.execute(e)).then(({rows:e})=>e)})}isResponseInArrayMode(){return this._isResponseInArrayMode}}function eT(e){return Object.keys(e).reduce((t,r)=>(Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r]),t),{})}function eR(e){if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){if(void 0!==eC)return e instanceof eC?e:eC.from(e);if("undefined"!=typeof TextDecoder)return new TextDecoder().decode(e);throw Error("TextDecoder is not available. Please provide either Buffer or TextDecoder polyfill.")}return e}class eL extends eg{static [n.i]="LibSQLDatabase";async batch(e){return this.session.batch(e)}}function eN(e,t={}){let r,s;let i=new J({casing:t.casing});if(!0===t.logger?r=new a:!1!==t.logger&&(r=t.logger),t.schema){let e=function(e,t){1===Object.keys(e).length&&"default"in e&&!(0,n.is)(e.default,u.XI)&&(e=e.default);let r={},s={},i={};for(let[o,a]of Object.entries(e))if((0,n.is)(a,u.XI)){let e=(0,u.Lf)(a),t=s[e];for(let s of(r[e]=o,i[o]={tsName:o,dbName:a[u.XI.Symbol.Name],schema:a[u.XI.Symbol.Schema],columns:a[u.XI.Symbol.Columns],relations:t?.relations??{},primaryKey:t?.primaryKey??[]},Object.values(a[u.XI.Symbol.Columns])))s.primary&&i[o].primaryKey.push(s);let l=a[u.XI.Symbol.ExtraConfigBuilder]?.(a[u.XI.Symbol.ExtraConfigColumns]);if(l)for(let e of Object.values(l))(0,n.is)(e,p)&&i[o].primaryKey.push(...e.columns)}else if((0,n.is)(a,S)){let e;let n=(0,u.Lf)(a.table),o=r[n];for(let[r,l]of Object.entries(a.config(t(a.table))))if(o){let t=i[o];t.relations[r]=l,e&&t.primaryKey.push(...e)}else n in s||(s[n]={relations:{},primaryKey:e}),s[n].relations[r]=l}return{tables:i,tableNamesMap:r}}(t.schema,_);s={fullSchema:t.schema,schema:e.tables,tableNamesMap:e.tableNamesMap}}let o=new ek(e,i,s,{logger:r,cache:t.cache},void 0),l=new eL("async",i,o,s);return l.$client=e,l.$cache=t.cache,l.$cache&&(l.$cache.invalidate=t.cache?.onMutate),l}function eE(...e){if("string"==typeof e[0])return eN((0,s.UU)({url:e[0]}),e[1]);if((0,i.Lq)(e[0])){let{connection:t,client:r,...i}=e[0];return r?eN(r,i):eN("string"==typeof t?(0,s.UU)({url:t}):(0,s.UU)(t),i)}return eN(e[0],e[1])}(eE||(eE={})).mock=function(e){return eN({},e)}},255:(e,t,r)=>{"use strict";r.d(t,{AU:()=>d,B3:()=>I,KJ:()=>x,KL:()=>b,Pe:()=>v,RK:()=>k,RO:()=>p,RV:()=>g,Tq:()=>q,Uo:()=>c,eq:()=>l,gt:()=>f,kZ:()=>w,lt:()=>m,mj:()=>C,ne:()=>u,o8:()=>_,or:()=>h,q1:()=>A,t2:()=>S,wJ:()=>y});var s=r(5178),i=r(5311),n=r(4548),o=r(9681);function a(e,t){return!(0,o.eG)(t)||(0,o.qt)(e)||(0,i.is)(e,o.Iw)||(0,i.is)(e,o.Or)||(0,i.is)(e,s.V)||(0,i.is)(e,n.XI)||(0,i.is)(e,o.Ss)?e:new o.Iw(e,t)}let l=(e,t)=>(0,o.ll)`${e} = ${a(t,e)}`,u=(e,t)=>(0,o.ll)`${e} <> ${a(t,e)}`;function c(...e){let t=e.filter(e=>void 0!==e);return 0===t.length?void 0:new o.Xs(1===t.length?t:[new o.DJ("("),o.ll.join(t,new o.DJ(" and ")),new o.DJ(")")])}function h(...e){let t=e.filter(e=>void 0!==e);return 0===t.length?void 0:new o.Xs(1===t.length?t:[new o.DJ("("),o.ll.join(t,new o.DJ(" or ")),new o.DJ(")")])}function d(e){return(0,o.ll)`not ${e}`}let f=(e,t)=>(0,o.ll)`${e} > ${a(t,e)}`,p=(e,t)=>(0,o.ll)`${e} >= ${a(t,e)}`,m=(e,t)=>(0,o.ll)`${e} < ${a(t,e)}`,y=(e,t)=>(0,o.ll)`${e} <= ${a(t,e)}`;function g(e,t){return Array.isArray(t)?0===t.length?(0,o.ll)`false`:(0,o.ll)`${e} in ${t.map(t=>a(t,e))}`:(0,o.ll)`${e} in ${a(t,e)}`}function b(e,t){return Array.isArray(t)?0===t.length?(0,o.ll)`true`:(0,o.ll)`${e} not in ${t.map(t=>a(t,e))}`:(0,o.ll)`${e} not in ${a(t,e)}`}function w(e){return(0,o.ll)`${e} is null`}function v(e){return(0,o.ll)`${e} is not null`}function S(e){return(0,o.ll)`exists ${e}`}function x(e){return(0,o.ll)`not exists ${e}`}function q(e,t,r){return(0,o.ll)`${e} between ${a(t,e)} and ${a(r,e)}`}function _(e,t,r){return(0,o.ll)`${e} not between ${a(t,e)} and ${a(r,e)}`}function C(e,t){return(0,o.ll)`${e} like ${t}`}function k(e,t){return(0,o.ll)`${e} not like ${t}`}function I(e,t){return(0,o.ll)`${e} ilike ${t}`}function A(e,t){return(0,o.ll)`${e} not ilike ${t}`}},9681:(e,t,r)=>{"use strict";let s,i;r.d(t,{Iw:()=>U,Or:()=>D,Xs:()=>O,DJ:()=>$,Ss:()=>V,Ct:()=>z,eG:()=>Q,qt:()=>E,ll:()=>M});var n=r(5311),o=r(1820),a=r(5178),l=r(6907);class u{static [n.i]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,t){this.reference=()=>{let{name:t,columns:r,foreignColumns:s}=e();return{name:t,columns:r,foreignTable:s[0].table,foreignColumns:s}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=void 0===e?"no action":e,this}onDelete(e){return this._onDelete=void 0===e?"no action":e,this}build(e){return new c(e,this)}}class c{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}static [n.i]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:r}=this.reference(),s=t.map(e=>e.name),i=r.map(e=>e.name),n=[this.table[l.E],...s,r[0].table[l.E],...i];return e??`${n.join("_")}_fk`}}function h(e,...t){return e(...t)}function d(e,t){return`${e[l.E]}_${t.join("_")}_unique`}class f{constructor(e,t){this.name=t,this.columns=e}static [n.i]=null;columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new m(e,this.columns,this.nullsNotDistinctConfig,this.name)}}class p{static [n.i]=null;name;constructor(e){this.name=e}on(...e){return new f(e,this.name)}}class m{constructor(e,t,r,s){this.table=e,this.columns=t,this.name=s??d(this.table,this.columns.map(e=>e.name)),this.nullsNotDistinct=r}static [n.i]=null;columns;name;nullsNotDistinct=!1;getName(){return this.name}}function y(e,t,r){for(let s=t;s<e.length;s++){let i=e[s];if("\\"===i){s++;continue}if('"'===i)return[e.slice(t,s).replace(/\\/g,""),s+1];if(!r&&(","===i||"}"===i))return[e.slice(t,s).replace(/\\/g,""),s]}return[e.slice(t).replace(/\\/g,""),e.length]}class g extends o.Q{foreignKeyConfigs=[];static [n.i]="PgColumnBuilder";array(e){return new S(this.config.name,this,e)}references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e,t){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=t?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:r,actions:s})=>h((r,s)=>{let i=new u(()=>({columns:[e],foreignColumns:[r()]}));return s.onUpdate&&i.onUpdate(s.onUpdate),s.onDelete&&i.onDelete(s.onDelete),i.build(t)},r,s))}buildExtraConfigColumn(e){return new w(e,this.config)}}class b extends a.V{constructor(e,t){t.uniqueName||(t.uniqueName=d(e,[t.name])),super(e,t),this.table=e}static [n.i]="PgColumn"}class w extends b{static [n.i]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class v{static [n.i]=null;constructor(e,t,r,s){this.name=e,this.keyAsName=t,this.type=r,this.indexConfig=s}name;keyAsName;type;indexConfig}class S extends g{static [n.i]="PgArrayBuilder";constructor(e,t,r){super(e,"array","PgArray"),this.config.baseBuilder=t,this.config.size=r}build(e){let t=this.config.baseBuilder.build(e);return new x(e,this.config,t)}}class x extends b{constructor(e,t,r,s){super(e,t),this.baseColumn=r,this.range=s,this.size=t.size}size;static [n.i]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${"number"==typeof this.size?this.size:""}]`}mapFromDriverValue(e){return"string"==typeof e&&(e=function(e){let[t]=function e(t,r=0){let s=[],i=r,n=!1;for(;i<t.length;){let o=t[i];if(","===o){(n||i===r)&&s.push(""),n=!0,i++;continue}if(n=!1,"\\"===o){i+=2;continue}if('"'===o){let[e,r]=y(t,i+1,!0);s.push(e),i=r;continue}if("}"===o)return[s,i+1];if("{"===o){let[r,n]=e(t,i+1);s.push(r),i=n;continue}let[a,l]=y(t,i,!1);s.push(a),i=l}return[s,i]}(e,1);return t}(e)),e.map(e=>this.baseColumn.mapFromDriverValue(e))}mapToDriverValue(e,t=!1){let r=e.map(e=>null===e?null:(0,n.is)(this.baseColumn,x)?this.baseColumn.mapToDriverValue(e,!0):this.baseColumn.mapToDriverValue(e));return t?r:function e(t){return`{${t.map(t=>Array.isArray(t)?e(t):"string"==typeof t?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}(r)}}class q extends g{static [n.i]="PgEnumObjectColumnBuilder";constructor(e,t){super(e,"string","PgEnumObjectColumn"),this.config.enum=t}build(e){return new _(e,this.config)}}class _ extends b{static [n.i]="PgEnumObjectColumn";enum;enumValues=this.config.enum.enumValues;constructor(e,t){super(e,t),this.enum=t.enum}getSQLType(){return this.enum.enumName}}let C=Symbol.for("drizzle:isPgEnum");class k extends g{static [n.i]="PgEnumColumnBuilder";constructor(e,t){super(e,"string","PgEnumColumn"),this.config.enum=t}build(e){return new I(e,this.config)}}class I extends b{static [n.i]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(e,t){super(e,t),this.enum=t.enum}getSQLType(){return this.enum.enumName}}var A=r(7734);let T={startActiveSpan:(e,t)=>s?(i||(i=s.trace.getTracer("drizzle-orm","0.44.7")),h((r,s)=>s.startActiveSpan(e,e=>{try{return t(e)}catch(t){throw e.setStatus({code:r.SpanStatusCode.ERROR,message:t instanceof Error?t.message:"Unknown error"}),t}finally{e.end()}}),s,i)):t()};var R=r(6309),L=r(4548);class N{static [n.i]=null}function E(e){return null!=e&&"function"==typeof e.getSQL}class ${static [n.i]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new O([this])}}class O{constructor(e){for(let t of(this.queryChunks=e,e))if((0,n.is)(t,L.XI)){let e=t[L.XI.Symbol.Schema];this.usedTables.push(void 0===e?t[L.XI.Symbol.Name]:e+"."+t[L.XI.Symbol.Name])}}static [n.i]="SQL";decoder=B;shouldInlineParams=!1;usedTables=[];append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return T.startActiveSpan("drizzle.buildSQL",t=>{let r=this.buildQueryFromSourceParams(this.queryChunks,e);return t?.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,t){let r=Object.assign({},t,{inlineParams:t.inlineParams||this.shouldInlineParams,paramStartIndex:t.paramStartIndex||{value:0}}),{casing:s,escapeName:i,escapeParam:o,prepareTyping:l,inlineParams:u,paramStartIndex:c}=r;return function(e){let t={sql:"",params:[]};for(let r of e)t.sql+=r.sql,t.params.push(...r.params),r.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}(e.map(e=>{if((0,n.is)(e,$))return{sql:e.value.join(""),params:[]};if((0,n.is)(e,j))return{sql:i(e.value),params:[]};if(void 0===e)return{sql:"",params:[]};if(Array.isArray(e)){let t=[new $("(")];for(let[r,s]of e.entries())t.push(s),r<e.length-1&&t.push(new $(", "));return t.push(new $(")")),this.buildQueryFromSourceParams(t,r)}if((0,n.is)(e,O))return this.buildQueryFromSourceParams(e.queryChunks,{...r,inlineParams:u||e.shouldInlineParams});if((0,n.is)(e,L.XI)){let t=e[L.XI.Symbol.Schema],r=e[L.XI.Symbol.Name];return{sql:void 0===t||e[L.HE]?i(r):i(t)+"."+i(r),params:[]}}if((0,n.is)(e,a.V)){let r=s.getColumnCasing(e);if("indexes"===t.invokeSource)return{sql:i(r),params:[]};let n=e.table[L.XI.Symbol.Schema];return{sql:e.table[L.HE]||void 0===n?i(e.table[L.XI.Symbol.Name])+"."+i(r):i(n)+"."+i(e.table[L.XI.Symbol.Name])+"."+i(r),params:[]}}if((0,n.is)(e,V)){let t=e[R.n].schema,r=e[R.n].name;return{sql:void 0===t||e[R.n].isAlias?i(r):i(t)+"."+i(r),params:[]}}if((0,n.is)(e,U)){if((0,n.is)(e.value,D))return{sql:o(c.value++,e),params:[e],typings:["none"]};let t=null===e.value?null:e.encoder.mapToDriverValue(e.value);if((0,n.is)(t,O))return this.buildQueryFromSourceParams([t],r);if(u)return{sql:this.mapInlineParam(t,r),params:[]};let s=["none"];return l&&(s=[l(e.encoder)]),{sql:o(c.value++,t),params:[t],typings:s}}return(0,n.is)(e,D)?{sql:o(c.value++,e),params:[e],typings:["none"]}:(0,n.is)(e,O.Aliased)&&void 0!==e.fieldAlias?{sql:i(e.fieldAlias),params:[]}:(0,n.is)(e,A.n)?e._.isWith?{sql:i(e._.alias),params:[]}:this.buildQueryFromSourceParams([new $("("),e._.sql,new $(") "),new j(e._.alias)],r):e&&"function"==typeof e&&C in e&&!0===e[C]?e.schema?{sql:i(e.schema)+"."+i(e.enumName),params:[]}:{sql:i(e.enumName),params:[]}:E(e)?e.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([e.getSQL()],r):this.buildQueryFromSourceParams([new $("("),e.getSQL(),new $(")")],r):u?{sql:this.mapInlineParam(e,r),params:[]}:{sql:o(c.value++,e),params:[e],typings:["none"]}}))}mapInlineParam(e,{escapeString:t}){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return e.toString();if("string"==typeof e)return t(e);if("object"==typeof e){let r=e.toString();return"[object Object]"===r?t(JSON.stringify(e)):t(r)}throw Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return void 0===e?this:new O.Aliased(this,e)}mapWith(e){return this.decoder="function"==typeof e?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class j{constructor(e){this.value=e}static [n.i]="Name";brand;getSQL(){return new O([this])}}function Q(e){return"object"==typeof e&&null!==e&&"mapToDriverValue"in e&&"function"==typeof e.mapToDriverValue}let B={mapFromDriverValue:e=>e},P={mapToDriverValue:e=>e};({...B,...P});class U{constructor(e,t=P){this.value=e,this.encoder=t}static [n.i]="Param";brand;getSQL(){return new O([this])}}function M(e,...t){let r=[];for(let[s,i]of((t.length>0||e.length>0&&""!==e[0])&&r.push(new $(e[0])),t.entries()))r.push(i,new $(e[s+1]));return new O(r)}(e=>{e.empty=function(){return new O([])},e.fromList=function(e){return new O(e)},e.raw=function(e){return new O([new $(e)])},e.join=function(e,t){let r=[];for(let[s,i]of e.entries())s>0&&void 0!==t&&r.push(t),r.push(i);return new O(r)},e.identifier=function(e){return new j(e)},e.placeholder=function(e){return new D(e)},e.param=function(e,t){return new U(e,t)}})(M||(M={})),(e=>{class t{constructor(e,t){this.sql=e,this.fieldAlias=t}static [n.i]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new t(this.sql,this.fieldAlias)}}e.Aliased=t})(O||(O={}));class D{constructor(e){this.name=e}static [n.i]="Placeholder";getSQL(){return new O([this])}}function z(e,t){return e.map(e=>{if((0,n.is)(e,D)){if(!(e.name in t))throw Error(`No value for placeholder "${e.name}" was provided`);return t[e.name]}if((0,n.is)(e,U)&&(0,n.is)(e.value,D)){if(!(e.value.name in t))throw Error(`No value for placeholder "${e.value.name}" was provided`);return e.encoder.mapToDriverValue(t[e.value.name])}return e})}let F=Symbol.for("drizzle:IsDrizzleView");class V{static [n.i]="View";[R.n];[F]=!0;constructor({name:e,schema:t,selectedFields:r,query:s}){this[R.n]={name:e,originalName:e,schema:t,selectedFields:r,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new O([this])}}a.V.prototype.getSQL=function(){return new O([this])},L.XI.prototype.getSQL=function(){return new O([this])},A.n.prototype.getSQL=function(){return new O([this])}},2109:(e,t,r)=>{"use strict";r.d(t,{v:()=>p,o:()=>f});var s=r(1820),i=r(5178),n=r(5311),o=r(6907);class a{static [n.i]="SQLiteForeignKeyBuilder";reference;_onUpdate;_onDelete;constructor(e,t){this.reference=()=>{let{name:t,columns:r,foreignColumns:s}=e();return{name:t,columns:r,foreignTable:s[0].table,foreignColumns:s}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=e,this}onDelete(e){return this._onDelete=e,this}build(e){return new l(e,this)}}class l{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}static [n.i]="SQLiteForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:r}=this.reference(),s=t.map(e=>e.name),i=r.map(e=>e.name),n=[this.table[o.E],...s,r[0].table[o.E],...i];return e??`${n.join("_")}_fk`}}function u(e,t){return`${e[o.E]}_${t.join("_")}_unique`}class c{constructor(e,t){this.name=t,this.columns=e}static [n.i]=null;columns;build(e){return new d(e,this.columns,this.name)}}class h{static [n.i]=null;name;constructor(e){this.name=e}on(...e){return new c(e,this.name)}}class d{constructor(e,t,r){this.table=e,this.columns=t,this.name=r??u(this.table,this.columns.map(e=>e.name))}static [n.i]=null;columns;name;getName(){return this.name}}class f extends s.Q{static [n.i]="SQLiteColumnBuilder";foreignKeyConfigs=[];references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e){return this.config.isUnique=!0,this.config.uniqueName=e,this}generatedAlwaysAs(e,t){return this.config.generated={as:e,type:"always",mode:t?.mode??"virtual"},this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:r,actions:s})=>((r,s)=>{let i=new a(()=>({columns:[e],foreignColumns:[r()]}));return s.onUpdate&&i.onUpdate(s.onUpdate),s.onDelete&&i.onDelete(s.onDelete),i.build(t)})(r,s))}}class p extends i.V{constructor(e,t){t.uniqueName||(t.uniqueName=u(e,[t.name])),super(e,t),this.table=e}static [n.i]="SQLiteColumn"}},3149:(e,t,r)=>{"use strict";r.d(t,{nd:()=>m});var s=r(5311),i=r(9681),n=r(9393),o=r(2109);class a extends o.o{static [s.i]="SQLiteBaseIntegerBuilder";constructor(e,t,r){super(e,t,r),this.config.autoIncrement=!1}primaryKey(e){return e?.autoIncrement&&(this.config.autoIncrement=!0),this.config.hasDefault=!0,super.primaryKey()}}class l extends o.v{static [s.i]="SQLiteBaseInteger";autoIncrement=this.config.autoIncrement;getSQLType(){return"integer"}}class u extends a{static [s.i]="SQLiteIntegerBuilder";constructor(e){super(e,"number","SQLiteInteger")}build(e){return new c(e,this.config)}}class c extends l{static [s.i]="SQLiteInteger"}class h extends a{static [s.i]="SQLiteTimestampBuilder";constructor(e,t){super(e,"date","SQLiteTimestamp"),this.config.mode=t}defaultNow(){return this.default((0,i.ll)`(cast((julianday('now') - 2440587.5)*86400000 as integer))`)}build(e){return new d(e,this.config)}}class d extends l{static [s.i]="SQLiteTimestamp";mode=this.config.mode;mapFromDriverValue(e){return new Date("timestamp"===this.config.mode?1e3*e:e)}mapToDriverValue(e){let t=e.getTime();return"timestamp"===this.config.mode?Math.floor(t/1e3):t}}class f extends a{static [s.i]="SQLiteBooleanBuilder";constructor(e,t){super(e,"boolean","SQLiteBoolean"),this.config.mode=t}build(e){return new p(e,this.config)}}class p extends l{static [s.i]="SQLiteBoolean";mode=this.config.mode;mapFromDriverValue(e){return 1===Number(e)}mapToDriverValue(e){return e?1:0}}function m(e,t){let{name:r,config:s}=(0,n.Ll)(e,t);return s?.mode==="timestamp"||s?.mode==="timestamp_ms"?new h(r,s.mode):s?.mode==="boolean"?new f(r,s.mode):new u(r)}},4598:(e,t,r)=>{"use strict";r.d(t,{Qq:()=>c});var s=r(5311),i=r(9393),n=r(2109);class o extends n.o{static [s.i]="SQLiteTextBuilder";constructor(e,t){super(e,"string","SQLiteText"),this.config.enumValues=t.enum,this.config.length=t.length}build(e){return new a(e,this.config)}}class a extends n.v{static [s.i]="SQLiteText";enumValues=this.config.enumValues;length=this.config.length;constructor(e,t){super(e,t)}getSQLType(){return`text${this.config.length?`(${this.config.length})`:""}`}}class l extends n.o{static [s.i]="SQLiteTextJsonBuilder";constructor(e){super(e,"json","SQLiteTextJson")}build(e){return new u(e,this.config)}}class u extends n.v{static [s.i]="SQLiteTextJson";getSQLType(){return"text"}mapFromDriverValue(e){return JSON.parse(e)}mapToDriverValue(e){return JSON.stringify(e)}}function c(e,t={}){let{name:r,config:s}=(0,i.Ll)(e,t);return"json"===s.mode?new l(r):new o(r,s)}},8464:(e,t,r)=>{"use strict";r.d(t,{jo:()=>L,D:()=>N});var s=r(5311),i=r(4548),n=r(9393),o=r(2109),a=r(5714).Buffer;class l extends o.o{static [s.i]="SQLiteBigIntBuilder";constructor(e){super(e,"bigint","SQLiteBigInt")}build(e){return new u(e,this.config)}}class u extends o.v{static [s.i]="SQLiteBigInt";getSQLType(){return"blob"}mapFromDriverValue(e){return void 0!==a&&a.from?BigInt((a.isBuffer(e)?e:e instanceof ArrayBuffer?a.from(e):e.buffer?a.from(e.buffer,e.byteOffset,e.byteLength):a.from(e)).toString("utf8")):BigInt(n.su.decode(e))}mapToDriverValue(e){return a.from(e.toString())}}class c extends o.o{static [s.i]="SQLiteBlobJsonBuilder";constructor(e){super(e,"json","SQLiteBlobJson")}build(e){return new h(e,this.config)}}class h extends o.v{static [s.i]="SQLiteBlobJson";getSQLType(){return"blob"}mapFromDriverValue(e){return void 0!==a&&a.from?JSON.parse((a.isBuffer(e)?e:e instanceof ArrayBuffer?a.from(e):e.buffer?a.from(e.buffer,e.byteOffset,e.byteLength):a.from(e)).toString("utf8")):JSON.parse(n.su.decode(e))}mapToDriverValue(e){return a.from(JSON.stringify(e))}}class d extends o.o{static [s.i]="SQLiteBlobBufferBuilder";constructor(e){super(e,"buffer","SQLiteBlobBuffer")}build(e){return new f(e,this.config)}}class f extends o.v{static [s.i]="SQLiteBlobBuffer";mapFromDriverValue(e){return a.isBuffer(e)?e:a.from(e)}getSQLType(){return"blob"}}function p(e,t){let{name:r,config:s}=(0,n.Ll)(e,t);return s?.mode==="json"?new c(r):s?.mode==="bigint"?new l(r):new d(r)}class m extends o.o{static [s.i]="SQLiteCustomColumnBuilder";constructor(e,t,r){super(e,"custom","SQLiteCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=r}build(e){return new y(e,this.config)}}class y extends o.v{static [s.i]="SQLiteCustomColumn";sqlName;mapTo;mapFrom;constructor(e,t){super(e,t),this.sqlName=t.customTypeParams.dataType(t.fieldConfig),this.mapTo=t.customTypeParams.toDriver,this.mapFrom=t.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return"function"==typeof this.mapFrom?this.mapFrom(e):e}mapToDriverValue(e){return"function"==typeof this.mapTo?this.mapTo(e):e}}function g(e){return(t,r)=>{let{name:s,config:i}=(0,n.Ll)(t,r);return new m(s,i,e)}}var b=r(3149);class w extends o.o{static [s.i]="SQLiteNumericBuilder";constructor(e){super(e,"string","SQLiteNumeric")}build(e){return new v(e,this.config)}}class v extends o.v{static [s.i]="SQLiteNumeric";mapFromDriverValue(e){return"string"==typeof e?e:String(e)}getSQLType(){return"numeric"}}class S extends o.o{static [s.i]="SQLiteNumericNumberBuilder";constructor(e){super(e,"number","SQLiteNumericNumber")}build(e){return new x(e,this.config)}}class x extends o.v{static [s.i]="SQLiteNumericNumber";mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}mapToDriverValue=String;getSQLType(){return"numeric"}}class q extends o.o{static [s.i]="SQLiteNumericBigIntBuilder";constructor(e){super(e,"bigint","SQLiteNumericBigInt")}build(e){return new _(e,this.config)}}class _ extends o.v{static [s.i]="SQLiteNumericBigInt";mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return"numeric"}}function C(e,t){let{name:r,config:s}=(0,n.Ll)(e,t),i=s?.mode;return"number"===i?new S(r):"bigint"===i?new q(r):new w(r)}class k extends o.o{static [s.i]="SQLiteRealBuilder";constructor(e){super(e,"number","SQLiteReal")}build(e){return new I(e,this.config)}}class I extends o.v{static [s.i]="SQLiteReal";getSQLType(){return"real"}}function A(e){return new k(e??"")}var T=r(4598);let R=Symbol.for("drizzle:SQLiteInlineForeignKeys");class L extends i.XI{static [s.i]="SQLiteTable";static Symbol=Object.assign({},i.XI.Symbol,{InlineForeignKeys:R});[i.XI.Symbol.Columns];[R]=[];[i.XI.Symbol.ExtraConfigBuilder]=void 0}let N=(e,t,r)=>(function(e,t,r,s,n=e){let o=new L(e,void 0,n),a=Object.fromEntries(Object.entries("function"==typeof t?t({blob:p,customType:g,integer:b.nd,numeric:C,real:A,text:T.Qq}):t).map(([e,t])=>{t.setName(e);let r=t.build(o);return o[R].push(...t.buildForeignKeys(r,o)),[e,r]})),l=Object.assign(o,a);return l[i.XI.Symbol.Columns]=a,l[i.XI.Symbol.ExtraConfigColumns]=a,r&&(l[L.Symbol.ExtraConfigBuilder]=r),l})(e,t,r)},7734:(e,t,r)=>{"use strict";r.d(t,{J:()=>n,n:()=>i});var s=r(5311);class i{static [s.i]="Subquery";constructor(e,t,r,s=!1,i=[]){this._={brand:"Subquery",sql:e,selectedFields:t,alias:r,isWith:s,usedTables:i}}}class n extends i{static [s.i]="WithSubquery"}},4548:(e,t,r)=>{"use strict";r.d(t,{HE:()=>c,Io:()=>p,Lf:()=>m,XI:()=>f,e:()=>o});var s=r(5311),i=r(6907);let n=Symbol.for("drizzle:Schema"),o=Symbol.for("drizzle:Columns"),a=Symbol.for("drizzle:ExtraConfigColumns"),l=Symbol.for("drizzle:OriginalName"),u=Symbol.for("drizzle:BaseName"),c=Symbol.for("drizzle:IsAlias"),h=Symbol.for("drizzle:ExtraConfigBuilder"),d=Symbol.for("drizzle:IsDrizzleTable");class f{static [s.i]="Table";static Symbol={Name:i.E,Schema:n,OriginalName:l,Columns:o,ExtraConfigColumns:a,BaseName:u,IsAlias:c,ExtraConfigBuilder:h};[i.E];[l];[n];[o];[a];[u];[c]=!1;[d]=!0;[h]=void 0;constructor(e,t,r){this[i.E]=this[l]=e,this[n]=t,this[u]=r}}function p(e){return e[i.E]}function m(e){return`${e[n]??"public"}.${e[i.E]}`}},6907:(e,t,r)=>{"use strict";r.d(t,{E:()=>s});let s=Symbol.for("drizzle:Name")},9393:(e,t,r)=>{"use strict";r.d(t,{DV:()=>c,He:()=>function e(t,r){return Object.entries(t).reduce((t,[o,l])=>{if("string"!=typeof o)return t;let u=r?[...r,o]:[o];return(0,i.is)(l,s.V)||(0,i.is)(l,n.Xs)||(0,i.is)(l,n.Xs.Aliased)?t.push({path:u,field:l}):(0,i.is)(l,a.XI)?t.push(...e(l[a.XI.Symbol.Columns],u)):t.push(...e(l,u)),t},[])},Ll:()=>m,Lq:()=>y,XJ:()=>d,YD:()=>f,a6:()=>u,q:()=>h,su:()=>g,zN:()=>p});var s=r(5178),i=r(5311),n=r(9681),o=r(7734),a=r(4548),l=r(6309);function u(e,t,r){let o={},l=e.reduce((e,{path:l,field:u},c)=>{let h;h=(0,i.is)(u,s.V)?u:(0,i.is)(u,n.Xs)?u.decoder:u.sql.decoder;let d=e;for(let[e,n]of l.entries())if(e<l.length-1)n in d||(d[n]={}),d=d[n];else{let e=t[c],f=d[n]=null===e?null:h.mapFromDriverValue(e);if(r&&(0,i.is)(u,s.V)&&2===l.length){let e=l[0];e in o?"string"==typeof o[e]&&o[e]!==(0,a.Io)(u.table)&&(o[e]=!1):o[e]=null===f&&(0,a.Io)(u.table)}}return e},{});if(r&&Object.keys(o).length>0)for(let[e,t]of Object.entries(o))"string"!=typeof t||r[t]||(l[e]=null);return l}function c(e,t){let r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(let[e,t]of r.entries())if(t!==s[e])return!1;return!0}function h(e,t){let r=Object.entries(t).filter(([,e])=>void 0!==e).map(([t,r])=>(0,i.is)(r,n.Xs)||(0,i.is)(r,s.V)?[t,r]:[t,new n.Iw(r,e[a.XI.Symbol.Columns][t])]);if(0===r.length)throw Error("No values to set");return Object.fromEntries(r)}function d(e,t){for(let r of t)for(let t of Object.getOwnPropertyNames(r.prototype))"constructor"!==t&&Object.defineProperty(e.prototype,t,Object.getOwnPropertyDescriptor(r.prototype,t)||Object.create(null))}function f(e){return e[a.XI.Symbol.Columns]}function p(e){return(0,i.is)(e,o.n)?e._.alias:(0,i.is)(e,n.Ss)?e[l.n].name:(0,i.is)(e,n.Xs)?void 0:e[a.XI.Symbol.IsAlias]?e[a.XI.Symbol.Name]:e[a.XI.Symbol.BaseName]}function m(e,t){return{name:"string"==typeof e&&e.length>0?e:"",config:"object"==typeof e?e:t}}function y(e){if("object"!=typeof e||null===e||"Object"!==e.constructor.name)return!1;if("logger"in e){let t=typeof e.logger;return"boolean"===t||"object"===t&&"function"==typeof e.logger.logQuery||"undefined"===t}if("schema"in e){let t=typeof e.schema;return"object"===t||"undefined"===t}if("casing"in e){let t=typeof e.casing;return"string"===t||"undefined"===t}if("mode"in e)return"default"===e.mode&&"planetscale"===e.mode&&void 0===e.mode;if("connection"in e){let t=typeof e.connection;return"string"===t||"object"===t||"undefined"===t}if("client"in e){let t=typeof e.client;return"object"===t||"function"===t||"undefined"===t}return 0===Object.keys(e).length}let g="undefined"==typeof TextDecoder?null:new TextDecoder},6309:(e,t,r)=>{"use strict";r.d(t,{n:()=>s});let s=Symbol.for("drizzle:ViewBaseConfig")},9795:(e,t,r)=>{"use strict";r.d(t,{QP:()=>eu});let s=e=>{let t=a(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:e=>{let r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),i(r,t)||o(e)},getConflictingClassGroupIds:(e,t)=>{let i=r[e]||[];return t&&s[e]?[...i,...s[e]]:i}}},i=(e,t)=>{if(0===e.length)return t.classGroupId;let r=e[0],s=t.nextPart.get(r),n=s?i(e.slice(1),s):void 0;if(n)return n;if(0===t.validators.length)return;let o=e.join("-");return t.validators.find(({validator:e})=>e(o))?.classGroupId},n=/^\[(.+)\]$/,o=e=>{if(n.test(e)){let t=n.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},a=e=>{let{theme:t,classGroups:r}=e,s={nextPart:new Map,validators:[]};for(let e in r)l(r[e],s,e,t);return s},l=(e,t,r,s)=>{e.forEach(e=>{if("string"==typeof e){(""===e?t:u(t,e)).classGroupId=r;return}if("function"==typeof e){if(c(e)){l(e(s),t,r,s);return}t.validators.push({validator:e,classGroupId:r});return}Object.entries(e).forEach(([e,i])=>{l(i,u(t,e),r,s)})})},u=(e,t)=>{let r=e;return t.split("-").forEach(e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r},c=e=>e.isThemeGetter,h=e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,r=new Map,s=new Map,i=(i,n)=>{r.set(i,n),++t>e&&(t=0,s=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=s.get(e))?(i(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):i(e,t)}}},d=e=>{let{prefix:t,experimentalParseClassName:r}=e,s=e=>{let t;let r=[],s=0,i=0,n=0;for(let o=0;o<e.length;o++){let a=e[o];if(0===s&&0===i){if(":"===a){r.push(e.slice(n,o)),n=o+1;continue}if("/"===a){t=o;continue}}"["===a?s++:"]"===a?s--:"("===a?i++:")"===a&&i--}let o=0===r.length?e:e.substring(n),a=f(o);return{modifiers:r,hasImportantModifier:a!==o,baseClassName:a,maybePostfixModifierPosition:t&&t>n?t-n:void 0}};if(t){let e=t+":",r=s;s=t=>t.startsWith(e)?r(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(r){let e=s;s=t=>r({className:t,parseClassName:e})}return s},f=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,p=e=>{let t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;let r=[],s=[];return e.forEach(e=>{"["===e[0]||t[e]?(r.push(...s.sort(),e),s=[]):s.push(e)}),r.push(...s.sort()),r}},m=e=>({cache:h(e.cacheSize),parseClassName:d(e),sortModifiers:p(e),...s(e)}),y=/\s+/,g=(e,t)=>{let{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:n}=t,o=[],a=e.trim().split(y),l="";for(let e=a.length-1;e>=0;e-=1){let t=a[e],{isExternal:u,modifiers:c,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:f}=r(t);if(u){l=t+(l.length>0?" "+l:l);continue}let p=!!f,m=s(p?d.substring(0,f):d);if(!m){if(!p||!(m=s(d))){l=t+(l.length>0?" "+l:l);continue}p=!1}let y=n(c).join(":"),g=h?y+"!":y,b=g+m;if(o.includes(b))continue;o.push(b);let w=i(m,p);for(let e=0;e<w.length;++e){let t=w[e];o.push(g+t)}l=t+(l.length>0?" "+l:l)}return l};function b(){let e,t,r=0,s="";for(;r<arguments.length;)(e=arguments[r++])&&(t=w(e))&&(s&&(s+=" "),s+=t);return s}let w=e=>{let t;if("string"==typeof e)return e;let r="";for(let s=0;s<e.length;s++)e[s]&&(t=w(e[s]))&&(r&&(r+=" "),r+=t);return r},v=e=>{let t=t=>t[e]||[];return t.isThemeGetter=!0,t},S=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,x=/^\((?:(\w[\w-]*):)?(.+)\)$/i,q=/^\d+\/\d+$/,_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,C=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,k=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,I=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,A=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,T=e=>q.test(e),R=e=>!!e&&!Number.isNaN(Number(e)),L=e=>!!e&&Number.isInteger(Number(e)),N=e=>e.endsWith("%")&&R(e.slice(0,-1)),E=e=>_.test(e),$=()=>!0,O=e=>C.test(e)&&!k.test(e),j=()=>!1,Q=e=>I.test(e),B=e=>A.test(e),P=e=>!M(e)&&!J(e),U=e=>ee(e,ei,j),M=e=>S.test(e),D=e=>ee(e,en,O),z=e=>ee(e,eo,R),F=e=>ee(e,er,j),V=e=>ee(e,es,B),X=e=>ee(e,el,Q),J=e=>x.test(e),K=e=>et(e,en),W=e=>et(e,ea),G=e=>et(e,er),H=e=>et(e,ei),Y=e=>et(e,es),Z=e=>et(e,el,!0),ee=(e,t,r)=>{let s=S.exec(e);return!!s&&(s[1]?t(s[1]):r(s[2]))},et=(e,t,r=!1)=>{let s=x.exec(e);return!!s&&(s[1]?t(s[1]):r)},er=e=>"position"===e||"percentage"===e,es=e=>"image"===e||"url"===e,ei=e=>"length"===e||"size"===e||"bg-size"===e,en=e=>"length"===e,eo=e=>"number"===e,ea=e=>"family-name"===e,el=e=>"shadow"===e;Symbol.toStringTag;let eu=function(e,...t){let r,s,i;let n=function(a){return s=(r=m(t.reduce((e,t)=>t(e),e()))).cache.get,i=r.cache.set,n=o,o(a)};function o(e){let t=s(e);if(t)return t;let n=g(e,r);return i(e,n),n}return function(){return n(b.apply(null,arguments))}}(()=>{let e=v("color"),t=v("font"),r=v("text"),s=v("font-weight"),i=v("tracking"),n=v("leading"),o=v("breakpoint"),a=v("container"),l=v("spacing"),u=v("radius"),c=v("shadow"),h=v("inset-shadow"),d=v("text-shadow"),f=v("drop-shadow"),p=v("blur"),m=v("perspective"),y=v("aspect"),g=v("ease"),b=v("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],x=()=>[...S(),J,M],q=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],C=()=>[J,M,l],k=()=>[T,"full","auto",...C()],I=()=>[L,"none","subgrid",J,M],A=()=>["auto",{span:["full",L,J,M]},L,J,M],O=()=>[L,"auto",J,M],j=()=>["auto","min","max","fr",J,M],Q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],B=()=>["start","end","center","stretch","center-safe","end-safe"],ee=()=>["auto",...C()],et=()=>[T,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],er=()=>[e,J,M],es=()=>[...S(),G,F,{position:[J,M]}],ei=()=>["no-repeat",{repeat:["","x","y","space","round"]}],en=()=>["auto","cover","contain",H,U,{size:[J,M]}],eo=()=>[N,K,D],ea=()=>["","none","full",u,J,M],el=()=>["",R,K,D],eu=()=>["solid","dashed","dotted","double"],ec=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],eh=()=>[R,N,G,F],ed=()=>["","none",p,J,M],ef=()=>["none",R,J,M],ep=()=>["none",R,J,M],em=()=>[R,J,M],ey=()=>[T,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[E],breakpoint:[E],color:[$],container:[E],"drop-shadow":[E],ease:["in","out","in-out"],font:[P],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[E],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[E],shadow:[E],spacing:["px",R],text:[E],"text-shadow":[E],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",T,M,J,y]}],container:["container"],columns:[{columns:[R,M,J,a]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:x()}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[L,"auto",J,M]}],basis:[{basis:[T,"full","auto",a,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[R,T,"auto","initial","none",M]}],grow:[{grow:["",R,J,M]}],shrink:[{shrink:["",R,J,M]}],order:[{order:[L,"first","last","none",J,M]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:A()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:A()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...Q(),"normal"]}],"justify-items":[{"justify-items":[...B(),"normal"]}],"justify-self":[{"justify-self":["auto",...B()]}],"align-content":[{content:["normal",...Q()]}],"align-items":[{items:[...B(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...B(),{baseline:["","last"]}]}],"place-content":[{"place-content":Q()}],"place-items":[{"place-items":[...B(),"baseline"]}],"place-self":[{"place-self":["auto",...B()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:ee()}],mx:[{mx:ee()}],my:[{my:ee()}],ms:[{ms:ee()}],me:[{me:ee()}],mt:[{mt:ee()}],mr:[{mr:ee()}],mb:[{mb:ee()}],ml:[{ml:ee()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:et()}],w:[{w:[a,"screen",...et()]}],"min-w":[{"min-w":[a,"screen","none",...et()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...et()]}],h:[{h:["screen","lh",...et()]}],"min-h":[{"min-h":["screen","lh","none",...et()]}],"max-h":[{"max-h":["screen","lh",...et()]}],"font-size":[{text:["base",r,K,D]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,J,z]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",N,M]}],"font-family":[{font:[W,M,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,J,M]}],"line-clamp":[{"line-clamp":[R,"none",J,z]}],leading:[{leading:[n,...C()]}],"list-image":[{"list-image":["none",J,M]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",J,M]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:er()}],"text-color":[{text:er()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...eu(),"wavy"]}],"text-decoration-thickness":[{decoration:[R,"from-font","auto",J,D]}],"text-decoration-color":[{decoration:er()}],"underline-offset":[{"underline-offset":[R,"auto",J,M]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",J,M]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",J,M]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:es()}],"bg-repeat":[{bg:ei()}],"bg-size":[{bg:en()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},L,J,M],radial:["",J,M],conic:[L,J,M]},Y,V]}],"bg-color":[{bg:er()}],"gradient-from-pos":[{from:eo()}],"gradient-via-pos":[{via:eo()}],"gradient-to-pos":[{to:eo()}],"gradient-from":[{from:er()}],"gradient-via":[{via:er()}],"gradient-to":[{to:er()}],rounded:[{rounded:ea()}],"rounded-s":[{"rounded-s":ea()}],"rounded-e":[{"rounded-e":ea()}],"rounded-t":[{"rounded-t":ea()}],"rounded-r":[{"rounded-r":ea()}],"rounded-b":[{"rounded-b":ea()}],"rounded-l":[{"rounded-l":ea()}],"rounded-ss":[{"rounded-ss":ea()}],"rounded-se":[{"rounded-se":ea()}],"rounded-ee":[{"rounded-ee":ea()}],"rounded-es":[{"rounded-es":ea()}],"rounded-tl":[{"rounded-tl":ea()}],"rounded-tr":[{"rounded-tr":ea()}],"rounded-br":[{"rounded-br":ea()}],"rounded-bl":[{"rounded-bl":ea()}],"border-w":[{border:el()}],"border-w-x":[{"border-x":el()}],"border-w-y":[{"border-y":el()}],"border-w-s":[{"border-s":el()}],"border-w-e":[{"border-e":el()}],"border-w-t":[{"border-t":el()}],"border-w-r":[{"border-r":el()}],"border-w-b":[{"border-b":el()}],"border-w-l":[{"border-l":el()}],"divide-x":[{"divide-x":el()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":el()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...eu(),"hidden","none"]}],"divide-style":[{divide:[...eu(),"hidden","none"]}],"border-color":[{border:er()}],"border-color-x":[{"border-x":er()}],"border-color-y":[{"border-y":er()}],"border-color-s":[{"border-s":er()}],"border-color-e":[{"border-e":er()}],"border-color-t":[{"border-t":er()}],"border-color-r":[{"border-r":er()}],"border-color-b":[{"border-b":er()}],"border-color-l":[{"border-l":er()}],"divide-color":[{divide:er()}],"outline-style":[{outline:[...eu(),"none","hidden"]}],"outline-offset":[{"outline-offset":[R,J,M]}],"outline-w":[{outline:["",R,K,D]}],"outline-color":[{outline:er()}],shadow:[{shadow:["","none",c,Z,X]}],"shadow-color":[{shadow:er()}],"inset-shadow":[{"inset-shadow":["none",h,Z,X]}],"inset-shadow-color":[{"inset-shadow":er()}],"ring-w":[{ring:el()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:er()}],"ring-offset-w":[{"ring-offset":[R,D]}],"ring-offset-color":[{"ring-offset":er()}],"inset-ring-w":[{"inset-ring":el()}],"inset-ring-color":[{"inset-ring":er()}],"text-shadow":[{"text-shadow":["none",d,Z,X]}],"text-shadow-color":[{"text-shadow":er()}],opacity:[{opacity:[R,J,M]}],"mix-blend":[{"mix-blend":[...ec(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ec()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[R]}],"mask-image-linear-from-pos":[{"mask-linear-from":eh()}],"mask-image-linear-to-pos":[{"mask-linear-to":eh()}],"mask-image-linear-from-color":[{"mask-linear-from":er()}],"mask-image-linear-to-color":[{"mask-linear-to":er()}],"mask-image-t-from-pos":[{"mask-t-from":eh()}],"mask-image-t-to-pos":[{"mask-t-to":eh()}],"mask-image-t-from-color":[{"mask-t-from":er()}],"mask-image-t-to-color":[{"mask-t-to":er()}],"mask-image-r-from-pos":[{"mask-r-from":eh()}],"mask-image-r-to-pos":[{"mask-r-to":eh()}],"mask-image-r-from-color":[{"mask-r-from":er()}],"mask-image-r-to-color":[{"mask-r-to":er()}],"mask-image-b-from-pos":[{"mask-b-from":eh()}],"mask-image-b-to-pos":[{"mask-b-to":eh()}],"mask-image-b-from-color":[{"mask-b-from":er()}],"mask-image-b-to-color":[{"mask-b-to":er()}],"mask-image-l-from-pos":[{"mask-l-from":eh()}],"mask-image-l-to-pos":[{"mask-l-to":eh()}],"mask-image-l-from-color":[{"mask-l-from":er()}],"mask-image-l-to-color":[{"mask-l-to":er()}],"mask-image-x-from-pos":[{"mask-x-from":eh()}],"mask-image-x-to-pos":[{"mask-x-to":eh()}],"mask-image-x-from-color":[{"mask-x-from":er()}],"mask-image-x-to-color":[{"mask-x-to":er()}],"mask-image-y-from-pos":[{"mask-y-from":eh()}],"mask-image-y-to-pos":[{"mask-y-to":eh()}],"mask-image-y-from-color":[{"mask-y-from":er()}],"mask-image-y-to-color":[{"mask-y-to":er()}],"mask-image-radial":[{"mask-radial":[J,M]}],"mask-image-radial-from-pos":[{"mask-radial-from":eh()}],"mask-image-radial-to-pos":[{"mask-radial-to":eh()}],"mask-image-radial-from-color":[{"mask-radial-from":er()}],"mask-image-radial-to-color":[{"mask-radial-to":er()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[R]}],"mask-image-conic-from-pos":[{"mask-conic-from":eh()}],"mask-image-conic-to-pos":[{"mask-conic-to":eh()}],"mask-image-conic-from-color":[{"mask-conic-from":er()}],"mask-image-conic-to-color":[{"mask-conic-to":er()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:es()}],"mask-repeat":[{mask:ei()}],"mask-size":[{mask:en()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",J,M]}],filter:[{filter:["","none",J,M]}],blur:[{blur:ed()}],brightness:[{brightness:[R,J,M]}],contrast:[{contrast:[R,J,M]}],"drop-shadow":[{"drop-shadow":["","none",f,Z,X]}],"drop-shadow-color":[{"drop-shadow":er()}],grayscale:[{grayscale:["",R,J,M]}],"hue-rotate":[{"hue-rotate":[R,J,M]}],invert:[{invert:["",R,J,M]}],saturate:[{saturate:[R,J,M]}],sepia:[{sepia:["",R,J,M]}],"backdrop-filter":[{"backdrop-filter":["","none",J,M]}],"backdrop-blur":[{"backdrop-blur":ed()}],"backdrop-brightness":[{"backdrop-brightness":[R,J,M]}],"backdrop-contrast":[{"backdrop-contrast":[R,J,M]}],"backdrop-grayscale":[{"backdrop-grayscale":["",R,J,M]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[R,J,M]}],"backdrop-invert":[{"backdrop-invert":["",R,J,M]}],"backdrop-opacity":[{"backdrop-opacity":[R,J,M]}],"backdrop-saturate":[{"backdrop-saturate":[R,J,M]}],"backdrop-sepia":[{"backdrop-sepia":["",R,J,M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",J,M]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[R,"initial",J,M]}],ease:[{ease:["linear","initial",g,J,M]}],delay:[{delay:[R,J,M]}],animate:[{animate:["none",b,J,M]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,J,M]}],"perspective-origin":[{"perspective-origin":x()}],rotate:[{rotate:ef()}],"rotate-x":[{"rotate-x":ef()}],"rotate-y":[{"rotate-y":ef()}],"rotate-z":[{"rotate-z":ef()}],scale:[{scale:ep()}],"scale-x":[{"scale-x":ep()}],"scale-y":[{"scale-y":ep()}],"scale-z":[{"scale-z":ep()}],"scale-3d":["scale-3d"],skew:[{skew:em()}],"skew-x":[{"skew-x":em()}],"skew-y":[{"skew-y":em()}],transform:[{transform:[J,M,"","none","gpu","cpu"]}],"transform-origin":[{origin:x()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ey()}],"translate-x":[{"translate-x":ey()}],"translate-y":[{"translate-y":ey()}],"translate-z":[{"translate-z":ey()}],"translate-none":["translate-none"],accent:[{accent:er()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:er()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",J,M]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",J,M]}],fill:[{fill:["none",...er()]}],"stroke-w":[{stroke:[R,K,D,z]}],stroke:[{stroke:["none",...er()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}})}}]);